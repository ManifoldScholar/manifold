"use strict";(self.webpackChunkmanifold_client=self.webpackChunkmanifold_client||[]).push([[168],{78168:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(96540),a=n(5556),i=n.n(a),o=n(21889),l=n(48547),s=n(32389),c=n(7589),d=n(81923),u=n(58651),p=n(42995);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(null,arguments)}const x=(0,d.A)("div",{target:"e1mgkw014"})({name:"1lq5da",styles:"--hover-color:var(--color-interaction-light);--focus-color:var(--color-interaction-light);position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column"}),h=(0,d.A)("div",g({},{target:"e1mgkw013"},u.d))((0,p.cO)()," position:absolute;top:0;left:0;z-index:50;width:100%;height:100%;cursor:pointer;background:",(0,p.No)("neutralBlack",.5),";",(e=>{let{$isError:t}=e;return t&&"\n      pointer-events: none;\n      cursor: default;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n  "}),";"),m=(0,d.A)("div",{target:"e1mgkw012"})(p.$C," padding:0 10px;margin-top:1.25em;font-size:14px;color:var(--color-base-neutral-white);text-align:center;"),f=(0,d.A)("div",g({},{target:"e1mgkw011"},u.d))("display:flex;align-items:center;justify-content:center;width:70px;height:70px;padding:1px 7px 2px;color:var(--color-base-neutral-white);text-align:center;background-color:var(--color-accent-primary);border:0;border-radius:50%;",(e=>{let{$absoluteCenter:t}=e;return t&&"\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    "}),";"),b=(0,d.A)("div",{target:"e1mgkw010"})({name:"n73d5m",styles:"display:flex;flex-direction:column;flex-grow:1;justify-content:center"}),v=(0,d.A)("div",{target:"e1mgkw09"})("display:flex;align-items:center;justify-content:space-between;padding:0 ",(0,p.dT)("25px","15px")," ",(0,p.dT)("19px","10px"),";button{padding:0;background-color:transparent;border:0;outline:none;&:hover,&:focus-visible{--Icon-color:var(--hover-color);}}"),w=(0,d.A)("div",{target:"e1mgkw08"})("--Slider-flex-grow:1;--Slider-margin:0 15px;--RangeInput-width:100%;--RangeInput-box-shadow:-1024px 0 0 1024px var(--color-base-neutral-white);display:none;flex-grow:1;align-items:center;justify-content:space-between;padding:0 20px;font-variant-numeric:tabular-nums;",(0,p.uf)("display: flex;",40),";"),y=(0,d.A)("div",{target:"e1mgkw07"})({name:"14n7x5l",styles:"position:relative;display:inline-block;flex-grow:var(--Slider-flex-grow, 0);margin:var(--Slider-margin, 0)"}),j=(0,d.A)("div",{target:"e1mgkw06"})(p.$C," font-size:14px;color:var(--color-base-neutral-white);",(0,p.uf)("font-size: 19px;",60)," &.duration{color:var(--color-base-neutral80);}"),k=(0,d.A)("div",{target:"e1mgkw05"})({name:"1axuxrw",styles:"display:flex;align-items:center;text-align:left"}),A=(0,d.A)("button",{target:"e1mgkw04"})("display:inline-block;width:35px;text-align:left;",(0,p.uf)("margin-right: 7px;",60),";"),S=(0,d.A)("div",{target:"e1mgkw03"})({name:"1q8e4w0",styles:"position:absolute;inset-block-start:50%;inset-inline-start:0;width:20px;height:20px;pointer-events:none;background:var(--color-accent-primary);border:3px solid var(--color-base-neutral-black);border-radius:50%;transform:translate(-50%, -40%)"}),C=(0,d.A)("input",{target:"e1mgkw02"})({name:"r2n8pl",styles:"width:var(--RangeInput-width, 70px);height:0;padding:5px 0 0;margin-top:1px;overflow:hidden;vertical-align:middle;background:var(--color-base-neutral80);border-radius:0;outline:0;appearance:none;cursor:pointer;&::-webkit-slider-runnable-track{height:3px;appearance:none;}&::-webkit-slider-thumb{width:1px;height:1px;margin-top:-9px;background:transparent;box-shadow:var(\n      --RangeInput-box-shadow,\n      -70px 0 0 70px var(--color-base-neutral-white)\n    );appearance:none;}&::-moz-range-progress{color:var(--color-base-neutral80);}"}),$="\n  position: relative;\n  color: var(--Icon-color, var(--color-base-neutral-white));\n  transition: color var(--transition-duration-fast)\n    var(--transition-timing-function);\n",I=(0,d.A)(c.A,{target:"e1mgkw01"})($," top:1px;",(0,p.uf)("width: 32px;\n        height: 32px;",60),";"),N=(0,d.A)(c.A,{target:"e1mgkw00"})($," ",(0,p.uf)("top: 1px;\n        width: 27.429px;\n        height: 27.429px;",60),";");var _=n(74848);function z(e){const t=Math.floor(e/60);let n=Math.round(e-60*t);return n<10&&(n=`0${n}`),`${t}:${n}`}function M(e){let{resource:t}=e;const{t:n}=(0,s.Bd)(),[a,i]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),p=(0,r.useRef)(null),{wavesurfer:g,isReady:$,isPlaying:M,currentTime:P}=(0,o.q)({container:p,url:t.attributes.attachmentStyles.original,height:275,waveColor:"#555",progressColor:getComputedStyle(document.body).getPropertyValue("--color-accent-primary"),barWidth:5,barHeight:1,cursorWidth:0});(0,r.useEffect)((()=>{g&&g.on("error",(e=>{console.error(e),u(!0)}))}),[g]);const R=null==g?void 0:g.getDuration(),T=z(R),F=isNaN(P/R)?0:P/R,O=isNaN(null==g?void 0:g.getVolume())?1:null==g?void 0:g.getVolume(),V=null==g?void 0:g.getMuted();function q(e){const t=e.target.value/100*R/R;g&&g.seekTo(t)}function E(e){if(g){const t=parseInt(e.target.value,10);g.setMuted(!1),g.setVolume(t/100)}}return d?(0,_.jsx)(x,{children:(0,_.jsxs)(h,{$isError:!0,children:[(0,_.jsx)(f,{children:(0,_.jsx)(c.A,{icon:"stopSign64",size:56.615})}),(0,_.jsx)(m,{dangerouslySetInnerHTML:{__html:n("errors.audio_playback")}})]})}):(0,_.jsxs)(x,{children:[!a&&(0,_.jsxs)(h,{onClick:function(){if(!$||!g)return null;i(!0),g.playPause()},role:"button",tabIndex:"0",children:[(0,_.jsx)("span",{className:"screen-reader-text",children:n("actions.start_playback")}),(0,_.jsx)(f,{$absoluteCenter:!0,children:(0,_.jsx)(c.A,{icon:"playSolid24",size:42.667})})]}),(0,_.jsx)(b,{ref:p}),(0,_.jsxs)(v,{children:[(0,_.jsxs)("button",{onClick:function(){g&&g.playPause()},children:[(0,_.jsx)("span",{className:"screen-reader-text",children:n(M?"actions.pause_playback":"actions.start_playback")}),(0,_.jsx)(I,{icon:M?"pauseSolid24":"playSolid24",size:19.2})]}),(0,_.jsxs)(w,{children:[(0,_.jsx)(j,{children:z(P)}),(0,_.jsxs)(y,{children:[(0,_.jsx)(S,{style:{insetInlineStart:`calc(${100*F}%)`}}),(0,_.jsx)(l.Ph,{name:e=>`progress-bar-${e}`,children:e=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("label",{htmlFor:e,className:"screen-reader-text",children:n("glossary.progress_bar")}),(0,_.jsx)(C,{id:e,type:"range",min:"0",max:"100",value:100*F,onChange:q})]})})]}),(0,_.jsx)(j,{children:T})]}),(0,_.jsxs)(k,{children:[(0,_.jsxs)(A,{onClick:function(){g&&g.setMuted(!V)},children:[(0,_.jsx)("span",{className:"screen-reader-text",children:n(V?"actions.unmute":"actions.mute")}),(0,_.jsx)(N,{icon:V?"speakerMuted24":"speaker24",size:21.333})]}),(0,_.jsxs)(y,{children:[(0,_.jsx)(S,{style:{insetInlineStart:70*O+"px"}}),(0,_.jsx)(l.Ph,{name:e=>`volume-bar-${e}`,children:e=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("label",{htmlFor:e,className:"screen-reader-text",children:n("actions.adjust_volume")}),(0,_.jsx)(C,{id:e,type:"range",min:"0",max:"100",value:100*O,onChange:E})]})})]})]})]})]})}M.propTypes={resource:i().object}}}]);
//# sourceMappingURL=chunk-168-df4fa1f86024d92ca119.js.map