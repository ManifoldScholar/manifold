(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1083:function(e,t){window.ace.define("ace/theme/idle_fingers",["require","exports","module","ace/lib/dom"],(e,r,n)=>{(t=r).isDark=!0,t.cssClass="ace-idle-fingers",t.cssText="\n      .ace-idle-fingers .ace_gutter {\n        background: #3b3b3b;\n        color: rgb(153,153,153);\n      }\n\n      .ace-idle-fingers .ace_print-margin {\n        width: 1px;\n        background: #3b3b3b;\n      }\n\n      .ace-idle-fingers {\n        color: var(--color-base-neutral10);\n        border: 1px solid #555555;\n      }\n\n      .ace-idle-fingers .ace_cursor {\n        color: #91FF00;\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_selection {\n        background: rgba(90, 100, 126, 0.88);\n      }\n\n      .ace-idle-fingers.ace_multiselect .ace_selection.ace_start {\n        box-shadow: 0 0 3px 0px #323232;\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_step {\n        background: rgb(102, 82, 0);\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_bracket {\n        margin: -1px 0 0 -1px;\n        border: 1px solid #404040;\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_active-line {\n        background:  var(--color-base-neutral110);\n      }\n\n      .ace-idle-fingers .ace_gutter-active-line {\n        background-color: #353637\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_selected-word {\n        border: 1px solid rgba(90, 100, 126, 0.88)\n      }\n\n      .ace-idle-fingers .ace_invisible {\n        color: var(--color-base-neutral40);\n      }\n\n      .ace-idle-fingers .ace_keyword,\n      .ace-idle-fingers .ace_meta {\n        color: var(--color-base-orange45);\n      }\n\n      .ace-idle-fingers .ace_constant,\n      .ace-idle-fingers .ace_constant.ace_character,\n      .ace-idle-fingers .ace_constant.ace_character.ace_escape,\n      .ace-idle-fingers .ace_constant.ace_other,\n      .ace-idle-fingers .ace_support.ace_constant {\n        color: var(--color-base-blue45);\n      }\n\n      .ace-idle-fingers .ace_invalid:not(.ace_invisible) {\n        color: var(--color-base-neutral40);\n        background: var(--color-base-red45);\n      }\n\n      .ace-idle-fingers .ace_fold {\n        background-color: #CC7833;\n        border-color: #FFFFFF;\n      }\n\n      .ace-idle-fingers .ace_support.ace_function {\n        color: #B83426;\n      }\n\n      .ace-idle-fingers .ace_variable.ace_parameter {\n        font-style: italic;\n      }\n\n      .ace-idle-fingers .ace_string {\n        color: var(--color-base-green20);\n      }\n\n      .ace-idle-fingers .ace_string.ace_regexp {\n        color: #CCCC33;\n      }\n\n      .ace-idle-fingers .ace_comment {\n        font-style: italic;\n        color: #BC9458;\n      }\n\n      .ace-idle-fingers .ace_meta.ace_tag {\n        color: var(--color-base-orange45);\n      }\n\n      .ace-idle-fingers .ace_entity.ace_name {\n        color: #FFC66D;\n      }\n\n      .ace-idle-fingers .ace_collab.ace_user1 {\n        color: #323232;\n        background-color: #FFF980;\n      }\n\n      .ace-idle-fingers .ace_indent-guide {\n        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMwMjLyZYiPj/8PAAreAwAI1g0AAAAAElFTkSuQmCC) right repeat-y\n      }\n    ";e("../lib/dom").importCssString(t.cssText,t.cssClass)})},1084:function(e,t){window.ace.define("ace/theme/kuroir",["require","exports","module","ace/lib/dom"],(e,r,n)=>{(t=r).isDark=!1,t.cssClass="ace-kuroir",t.cssText='\n      .ace-kuroir .ace_gutter {\n        background: var(--color-base-neutral30);\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_print-margin {\n        width: 1px;\n        background: #e8e8e8;\n      }\n\n      .ace-kuroir {\n        background-color: #E8E9E8;\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_cursor {\n        color: #202020;\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_selection {\n        background: var(--color-base-yellow20);\n      }\n\n      .ace-kuroir.ace_multiselect .ace_selection.ace_start {\n        box-shadow: 0 0 3px 0px #E8E9E8;\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_step {\n        background: rgb(198, 219, 174);\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_bracket {\n        margin: -1px 0 0 -1px;\n        border: 1px solid rgba(0, 0, 0, 0.29);\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_active-line {\n        background: var(--color-base-yellow45);\n      }\n\n      .ace-kuroir .ace_gutter-active-line {\n        background-color: rgba(245, 228, 37, .5);\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_selected-word {\n        border: 1px solid rgba(245, 170, 0, 0.57);\n      }\n\n      .ace-kuroir .ace_invisible {\n        color: #BFBFBF\n      }\n\n      .ace-kuroir .ace_fold {\n        border-color: #363636;\n      }\n\n      .ace-kuroir .ace_constant {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_constant.ace_numeric {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_support {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_support.ace_type {\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_support.ace_function {\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_support.ace_constant {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_keyword {\n        color: var(--color-base-orange75);\n      }\n\n      .ace-kuroir .ace_storage {\n        color:#A52A2A;\n      }\n\n      .ace-kuroir .ace_invalid.ace_illegal {\n        color:#FD1224;\n        background-color:rgba(255, 6, 0, 0.15);\n      }\n\n      .ace-kuroir .ace_invalid.ace_deprecated {\n        text-decoration:underline;\n        font-style:italic;\n        color:#FD1732;\n        background-color:#E8E9E8;\n      }\n\n      .ace-kuroir .ace_string {\n        color: var(--color-base-green75);\n      }\n\n      .ace-kuroir .ace_string.ace_regexp {\n        color:#417E00;\n        background-color:#C9D4BE; }\n\n      .ace-kuroir .ace_comment {\n        color:rgba(148, 148, 148, 0.91);\n        background-color:rgba(220, 220, 220, 0.56);\n      }\n\n      .ace-kuroir .ace_variable {\n        color: var(--color-text-neutral100);\n      }\n\n      .ace-kuroir .ace_meta.ace_tag {\n        color: var(--color-base-orange75);\n      }\n\n      .ace-kuroir .ace_markup.ace_heading {\n        color:#B8012D;\n        background-color:rgba(191, 97, 51, 0.051);\n      }\n\n      .ace-kuroir .ace_markup.ace_list {\n        color:#8F5B26;\n      }\n\n      .ace-kuroir .ace_indent-guide {\n          background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n      }\n\n      .ace-kuroir .ace_indent-guide-active {\n        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n      }\n    ';e("../lib/dom").importCssString(t.cssText,t.cssClass)})},1836:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Dn}));var n=r(0),a=r.n(n),o=r(1),l=r.n(o),i=r(129),c=r(205),s=r(957),u=r(117),d=r(1260),f=r(434),b=r(103);const p=e=>{u.j.unwrapNodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"a"===e.type}),s.b.focus(e)},m=(e,t,r)=>{const n=(null!=e?e:{}).selection;if(!n)return;const a=n&&u.g.isCollapsed(n),o={type:"a",htmlAttrs:{href:t},children:a?[{text:null!=r?r:t}]:[]};a?u.j.insertNodes(e,o):(u.j.wrapNodes(e,o,{split:!0}),u.j.collapse(e,{edge:"end"})),s.b.focus(e)};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const v=(e,t,r)=>{const n={type:"img",htmlAttrs:{src:t,alt:null!=r?r:""},children:[{text:"",slateOnly:!0}]},a=y(u.a.above(e,e.selection),1)[0];u.a.isEmpty(e,a)&&u.j.removeNodes(e),u.j.insertNodes(e,n),s.b.focus(e)};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const x=(e,t,r)=>{const n={type:"iframe",htmlAttrs:{src:t,title:r},children:[{text:"",slateOnly:!0}]},a=h(u.a.above(e,e.selection),1)[0];u.a.isEmpty(e,a)&&u.j.removeNodes(e),u.j.insertNodes(e,n),s.b.focus(e)};var O=r(82),j=r.n(O);const E=["ol","ul"],w=e=>{let t=e.editor,r=e.format,n=e.node,a=e.path,o=e.split,l=void 0!==o&&o;if(n.text&&"li"===u.c.parent(t,a).type)return(e=>{let t=e.editor,r=e.node,n=e.path,a=e.format;const o=t.selection,l=o.anchor,i=o.focus,c=[{type:"list-sibling",slateOnly:!0,children:[{text:r.text.substring(0,l.offset)}]},{type:a,children:[{text:r.text.substring(l.offset,i.offset)}]},{type:"list-sibling",slateOnly:!0,children:[{text:r.text.substring(i.offset)}]}];u.j.insertNodes(t,c,{at:n})})({editor:t,node:n,path:a,format:r});"pre"===n.type&&u.a.removeMark(t,"code",!0);const i=E.includes(r)?"li":r;if(u.j.unwrapNodes(t,{match:(e,t)=>!u.a.isEditor(e)&&u.b.isElement(e)&&E.includes(e.type)&&j()(t,a),split:!0}),n.slateOnly||r!==n.type){var c,d;const e=null!==(c=n.htmlAttrs)&&void 0!==c&&c.class?{class:null===(d=n.htmlAttrs)||void 0===d?void 0:d.class}:void 0;return u.a.withoutNormalizing(t,()=>{u.j.setNodes(t,{type:i,slateOnly:void 0,htmlAttrs:e},{split:l}),"li"===i&&u.j.wrapNodes(t,{type:r,children:[]}),"pre"===r&&u.a.addMark(t,"code",!0),s.b.focus(t)})}u.j.setNodes(t,{type:"p",slateOnly:void 0},{split:l}),s.b.focus(t)};var A=r(23),C=r.n(A);const _=e=>{[...Array(e.children.length).keys()].forEach(()=>{try{u.j.removeNodes(e,{at:[0]})}catch(e){return e}})},S=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;u.j.select(e,{anchor:{path:t,offset:r},focus:{path:t,offset:r}})},M=e=>{var t;let r="void"===e.type?e.nodeName:e.type;const n=(null!=e?e:{}).htmlAttrs;return null!=n&&n.id&&(r=`${r}#${n.id}`),null!=n&&n.class&&(r=`${r}.${null===(t=n.class)||void 0===t?void 0:t.replaceAll(" ",".")}`),r};function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const R=(e,t)=>{var r;return null!==(r=u.a.above(e,{at:t,match:e=>"li"===e.type}))&&void 0!==r?r:[]},D=(e,t)=>{var r;return null!==(r=u.a.above(e,{at:t,match:e=>"ul"===e.type||"ol"===e.type}))&&void 0!==r?r:[]},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;const r=u.a.unhangRange(e,e.selection,{voids:!0}),n=u.c.common(e,r.anchor.path,r.focus.path),a=I(n,2),o=a[0],l=a[1];return(u.a.isBlock(e,o)||u.a.isEditor(o))&&t(o)?[o,l]:u.a.above(e,{at:l,match:r=>(u.a.isBlock(e,r)||u.a.isEditor(r))&&t(r)})},z=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=t.next(),a=n.value;if(!a)return r;const o=I(a,2),l=o[0],i=o[1],c=s.b.findKey(e,l),u=l.type&&!l.slateOnly?{...r,[c.id]:{label:M(l),path:i}}:r;return z(e,t,u)},T=(e,t)=>{const r=e.selection;if(!r)return!1;const n=u.a.above(e,{at:u.a.unhangRange(e,r),match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&!e.nodeName&&!e.slateOnly&&e.type===t});return!!n&&n[0].type===t},$=(e,t)=>{var r;const n=e.selection;if(!n)return!1;const a=u.a.above(e,{at:u.a.unhangRange(e,n),match:r=>!u.a.isEditor(r)&&u.a.isBlock(e,r)&&!r.nodeName&&!r.slateOnly&&r.type===t});return!!a&&(null===(r=a[0])||void 0===r?void 0:r.type)===t},B=(e,t)=>{if(!e.selection)return!1;const r=!!u.c.get(e,e.selection.focus.path).text&&u.a.marks(e);if("code"===t){var n;if(I(null!==(n=u.a.above(e,{match:e=>"pre"===e.type}))&&void 0!==n?n:[],1)[0])return!1}return!!r&&!0===r[t]},L=e=>!!I(u.a.nodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"a"===e.type}),1)[0],U=(e,t)=>{const r=1===t.children.length&&C()(t.children[0],"text");return u.a.isEmpty(e,t)&&(r||!t.children.length)};function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const H=e=>{let t=e.editor,r=e.format,n=e.path;if("span"===r)return(e=>{let t=e.editor,r=e.path;const n=u.e.parent(r),a=F(u.a.node(t,{at:n}),1)[0];if(u.a.hasBlocks(t,a))return u.a.withoutNormalizing(t,()=>{u.j.wrapNodes(t,{type:"div",slateOnly:!0},{at:r,match:(e,t)=>"span"===e.type&&j()(t,r)}),u.j.removeNodes(t,{match:(e,t)=>C()(e,"text")&&!e.text&&j()(t,u.e.next(r)),at:n}),u.j.liftNodes(t,{match:(e,t)=>"div"===e.type&&j()(t,r),at:r});const e=u.c.get(t,n);U(t,e)&&u.j.removeNodes(t,{at:u.e.parent(n),match:t=>j()(t,e)}),s.b.focus(t)})})({editor:t,path:n});u.j.liftNodes(t,{match:(e,t)=>e.type===r&&j()(t,n),at:n}),s.b.focus(t)},K=(e,t)=>{const r=u.g.isCollapsed(e.selection);if("span"===t)return((e,t)=>{t?u.j.insertNodes(e,{type:"span",children:[{text:""}]},{at:e.selection.anchor,select:!0}):u.j.wrapNodes(e,{type:"span",children:[]},{split:!0}),s.b.focus(e)})(e,r);const n=b.d.includes(t),a=!n,o=W(P(e,n?e=>!u.a.isEditor(e)&&!e.nodeName&&!e.text:e=>!u.a.isEditor(e)&&!e.nodeName),2),l=o[0],i=o[1];return a?w({editor:e,format:t,node:l,path:i,split:!r}):(e=>{let t=e.editor,r=e.format,n=e.node,a=e.path;if(e.split)return u.j.wrapNodes(t,{type:r},{split:!0});u.j.removeNodes(t),b.f.includes(n.type)?u.j.insertNodes(t,{type:r,children:[n]},{at:a,select:!0}):u.j.insertNodes(t,{...n,children:[{type:r,children:n.children}]},{at:a,select:!0}),s.b.focus(t)})({editor:e,format:t,node:l,path:i,split:!r})},Y=(e,t)=>{B(e,t)?u.a.removeMark(e,t):u.a.addMark(e,t,!0),s.b.focus(e)};var G=r(287),Z=r(107);var Q=e=>{const t=e.insertText,r=e.isInline;return e.isInline=e=>{var t;return"math"===e.type&&"inline"===(null===(t=e.htmlAttrs)||void 0===t?void 0:t.display)||"math"!==e.type&&Z.f.includes(e.type)||b.b.includes(e.type)||r(e)},e.insertText=r=>{const n=Object(G.b)(r),a=Object(G.d)(r),o=Object(G.c)(r);return n?v(e,r):a?x(e,r):o?m(e,r):void t(r)},e};function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ee=e=>{const t=e.insertData;return e.insertData=r=>{const n=r.getData("text/plain"),a=r.files,o=null==a?void 0:a.item(0);if(o){const t=new FileReader;if("image"===J(o.type.split("/"),1)[0])return t.addEventListener("load",()=>{const r=t.result;v(e,r)}),void t.readAsDataURL(o)}Object(G.b)(n)?v(e,n):t(r)},e};function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ne={"*":"ul","-":"ul","+":"ul","1.":"ol",">":"blockquote","#":"h1","##":"h2","###":"h3","####":"h4","#####":"h5","######":"h6","```":"pre"},ae={"*":"italic","**":"bold","`":"code","~":"strikethrough"};var oe=e=>{const t=e.insertText;return e.insertText=r=>{const n=e.selection,a=n.anchor;if(r.endsWith(" ")&&n&&u.g.isCollapsed(n)){var o;const t=te(null!==(o=u.a.above(e,{match:t=>u.b.isElement(t)&&u.a.isBlock(e,t)}))&&void 0!==o?o:[],2),n=(t[0],t[1]),l={anchor:a,focus:u.a.start(e,n)},i=ne[u.a.string(e,l)+r.slice(0,-1)];if(i)return u.j.select(e,l),u.g.isCollapsed(l)||u.j.delete(e),K(e,i)}let l;if(["*","`","~"].includes(r)){const n=te(u.a.first(e,a.path),2),o=n[0],i=n[1],c=u.c.string(o);if("~"===r&&(l="~"),"`"===r&&(l="`"),"*"===r&&(c.endsWith("*")&&(l="**"),-1===c.indexOf("**")&&(l="*")),l){const n=c.indexOf(l),a=l.length-1>0?-(l.length-1):void 0,o=c.slice(n+l.length,a);if("`"===l&&"`"===o)return t(r);if(n>=0&&o){const t={path:i,offset:n},r={path:i,offset:c.length};return u.a.withoutNormalizing(e,()=>{u.j.select(e,{anchor:t,focus:r}),u.a.addMark(e,ae[l],!0),u.j.delete(e,{at:t,distance:l.length,unit:"character"}),u.j.collapse(e,{edge:"end"}),l.length>1&&u.j.delete(e,{distance:l.length-1,unit:"character",reverse:!0})})}}}return t(r)},e};function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ce=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const a=t.next(),o=a.value;if(!o)return{textContent:n,lastPath:r};const l=le(o,2),i=l[0],c=l[1];if("list-sibling"===i.type)return ce(e,u.c.children(e,c),c);const s=C()(i,"text"),d=s?i.text:n,f=s?c:r;return ce(e,t,f,d)},se=(e,t)=>{const r=u.c.children(e,t),n=ce(e,r,t),a=n.textContent;return{path:n.lastPath,offset:a.length}},ue=e=>{let t=e.editor,r=e.srcPath,n=e.destPath,a=e.node,o=e.type;const l=Array.isArray(a)?a:[a];u.j.removeNodes(t,{at:r}),u.j.insertNodes(t,[{type:o,children:l}],{at:n})},de=e=>{let t=e.editor,r=e.srcPath,n=e.destPath,a=e.unwrap,o=void 0===a||a;if(n&&u.j.moveNodes(t,{at:r,to:n}),o){const e=null!=n?n:r;u.j.unwrapNodes(t,{at:e})}},fe=e=>{let t=e.editor,r=e.at,n=e.nodes;return n?u.j.insertNodes(t,[{type:"list-sibling",slateOnly:!0,children:n}],{at:r}):u.j.unwrapNodes(t,{at:r,match:e=>"list-sibling"===e.type})},be=e=>{const t=e.next().value;if(!t)return[];const r=le(t,2),n=r[0],a=r[1];return"ul"===n.type||"ol"===n.type?[n,a]:be(e)},pe=e=>{let t=e.editor,r=e.canUnwrapRoot;const n=le(R(t,t.selection),2),a=n[0],o=n[1],l=le(R(t,o),2),i=l[0],c=l[1],s=le(D(t,o),2),d=s[0],f=s[1],p=u.c.parent(t,f),m="ul"===(null==p?void 0:p.type)||"ol"===(null==p?void 0:p.type);if(!a)return;if(!(d&&m||i)){const e=b.f.includes(null==p?void 0:p.type)?p.type:"p";return r?K(t,e):null}const y=u.a.start(t,o),g=u.a.start(t,f);if(u.f.equals(y,g))return u.a.withoutNormalizing(t,()=>{if(m)return de({editor:t,srcPath:f});const e=[...c].pop()+1,r=[...c.slice(0,-1),e];de({editor:t,srcPath:f,destPath:r}),fe({editor:t,at:[...r.slice(0,-1),0]})});i&&u.a.withoutNormalizing(t,()=>{const e=[...c].pop()+1,r=[...c.slice(0,-1),e];de({editor:t,srcPath:o,destPath:r,unwrap:!1})})},me=["children","htmlAttrs","slateOnly","inline"];function ye(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var he=e=>{const t=e.insertBreak,r=e.deleteBackward;e.insertBreak=()=>{const r=e.selection,n=r&&u.g.isCollapsed(r);n||u.j.delete(e);const a=ge(u.a.above(e,r),2),o=(a[0],a[1],ge(u.a.above(e,{at:r,match:t=>u.a.isBlock(e,t)&&!t.slateOnly}),2)),l=o[0],i=(o[1],l.children,l.htmlAttrs),c=(l.slateOnly,l.inline,ye(l,me));if(b.f.includes(c.type)||b.d.includes(c.type)||(c.type="p"),"a"!==c.type&&"img"!==c.type&&"iframe"!==c.type||(c.type="p"),"li"===c.type){const t=u.a.isEmpty(e,l);if(n&&t)return pe({editor:e,canUnwrapRoot:!0});c.htmlAttrs={class:null==i?void 0:i.class}}try{u.a.withoutNormalizing(e,()=>{u.j.insertNodes(e,{...c,children:[{text:""}]},{at:r,select:!0})})}catch(e){t()}};const n=(t,r)=>{const a=e.selection,o=u.a.start(e,r),l=u.c.string(t);if(u.f.isBefore(o,a.anchor)&&l.length<=1){var i;u.j.unwrapNodes(e,{at:r,match:t=>u.a.isInline(e,t)});const t=ge(null!==(i=u.a.above(e,{match:t=>t.type&&u.a.isInline(e,t)}))&&void 0!==i?i:[],2),a=t[0],o=t[1];if(a)return n(a,o)}},a=(t,r)=>{const n=e.selection,a=u.a.start(e,r);!u.a.isEditor(t)&&t.slateOnly&&u.f.equals(n.anchor,a)&&u.j.unwrapNodes(e,{at:r,match:e=>e.slateOnly})};return e.deleteBackward=function(){const t=e.selection;if(t&&u.g.isCollapsed(t)){var o,l;const r=ge(R(e,e.selection),1)[0];if(r){if(u.a.isEmpty(e,r))return pe({editor:e,canUnwrapRoot:!0})}const i=ge(null!==(o=u.a.above(e,{match:t=>t.type&&u.a.isInline(e,t)}))&&void 0!==o?o:[],2),c=i[0],s=i[1];c&&n(c,s);const d=ge(null!==(l=u.a.above(e,{match:t=>u.b.isElement(t)&&u.a.isBlock(e,t)}))&&void 0!==l?l:[],2),f=d[0],b=d[1];a(f,b);const p=ge(f.slateOnly?u.a.above(e,{match:t=>u.b.isElement(t)&&u.a.isBlock(e,t)}):[f,b],2),m=p[0],y=p[1];if(m){const r=u.a.start(e,y);if(!u.a.isEditor(m)&&u.b.isElement(m)&&"p"!==m.type&&u.f.equals(t.anchor,r))return u.j.setNodes(e,{type:"p"},{at:y,select:!0}),void("li"===m.type&&u.j.unwrapNodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&("ul"===e.type||"ol"===e.type),split:!0}))}}r(...arguments)},e};var ke=e=>Q(he(oe(Object(f.a)(ee(e))))),xe=r(153),Oe=r.n(xe),je=r(437),Ee=r(6),we=r.n(Ee),Ae=r(414);function Ce(e){let t=e.attributes,r=e.children,n=e.leaf,o=r;return n.bold&&(o=a.a.createElement("strong",null,o)),n.italic&&(o=a.a.createElement("em",null,o)),n.underline&&(o=a.a.createElement("u",null,o)),n.strikethrough&&(o=a.a.createElement("s",null,o)),n.code&&(o=a.a.createElement("code",null,o)),a.a.createElement("span",t,o)}var _e=r(13);function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Ie=e=>{e.preventDefault();const t=document.getElementsByName("img-modal-trigger");t[0]&&t[0].click()},Ne=e=>{e.preventDefault();const t=document.getElementsByName("iframe-modal-trigger");t[0]&&t[0].click()};var Re=r(12),De=r(89),Pe=r.n(De);const ze=Object(n.createContext)([]),Te=()=>Object(n.useContext)(ze);var $e=r(3),Be=r(2);const Le=Object($e.a)("div",{target:"eiv2b1014"})("display:none;flex-direction:column;align-items:center;gap:8px;position:absolute;top:5px;right:auto;left:5px;color:var(--color-accent-primary);",e=>e.$visible&&"display: flex;"," ",Object(Be.V)("right: -60px; left: auto; top: -5px;",65),";"),Ue=Object($e.a)("button",{target:"eiv2b1013"})(Be.f," width:34px;height:34px;display:flex;justify-content:center;align-items:center;color:var(--color-neutral-text-light);background:var(--color-base-neutral90);border-radius:4px;border:1px solid var(--color);&:hover{color:",e=>"red"===e.$color?"var(--color-notification-error-light)":"var(--color-accent-primary)",";border-color:",e=>"red"===e.$color?"var(--color-notification-error-light)":"var(--color-accent-primary)",";}"),Fe=Object($e.a)("img",{target:"eiv2b1012"})("display:inline;",e=>e.$selected&&Be.k+" outline-offset: 1px;",";"),Ve=Object($e.a)("span",{target:"eiv2b1011"})({name:"arhcr6",styles:"display:inline-block;width:max-content;max-width:100%;position:relative;&.responsive-iframe{display:block;width:100%;overflow:visible;}"}),We=Object($e.a)("div",{target:"eiv2b1010"})({name:"68fpf9",styles:"&+&{margin-block-start:20px;}"}),qe=Object($e.a)("div",{target:"eiv2b109"})("display:block;margin-inline-start:-5%;width:110%;padding-inline:8%;padding-block-end:20px;padding-block-start:20px;position:relative;background-color:var(--drawer-bg-color);box-shadow:3px 3px 10px var(--color-base-neutral100);border-radius:4px;border:0;.scheme-light &{background-color:var(--color-base-neutral20);box-shadow:3px 3px 10px var(--color-base-neutral30);}",e=>e.$selected&&"outline: solid 2px var(--disabled-control-color); outline-offset: 1px;",";"),He=Object($e.a)("span",{target:"eiv2b108"})(Be.C," font-size:14px;color:var(--color-base-yellow20);display:inline-flex;gap:6px;align-items:center;.scheme-light &{color:var(--color-base-violet75);}>svg{margin-top:1px;}"),Ke=Object($e.a)("span",{target:"eiv2b107"})({name:"1tu05zb",styles:"display:inline-flex;width:100%"}),Ye=Object($e.a)("span",{target:"eiv2b106"})({name:"lr7qmu",styles:"flex-grow:1;margin:0;width:100%"}),Ge={green:{light:"var(--color-interaction-dark)",dark:"var(--color-accent-primary)"},blue:{light:"var(--color-base-blue75)",dark:"var(--color-base-blue45)"},yellow:{dark:"var(--color-base-yellow20)",light:"var(--color-base-orange75)"}},Ze=Object($e.a)("span",{target:"eiv2b105"})("position:absolute;display:inline-block;left:-8px;top:-26px;font-size:14px;line-height:1;padding:2px;border-top-right-radius:2px;border-top-left-radius:2px;font-family:var(--font-family-heading);font-weight:var(--font-weight-regular);border:0px solid;border-bottom:0;white-space:nowrap;text-indent:0;z-index:10;padding-inline:4px;padding-block-start:2px;padding-block-end:4px;text-decoration:none;text-transform:none;font-variant:none;.scheme-dark &{background:",e=>{let t=e.$color;return Ge[t].dark},";color:var(--drawer-bg-color);}.scheme-light &{background:",e=>{let t=e.$color;return Ge[t].light},";color:var(--background-color);}&:hover{z-index:20;}"),Qe=Object($e.a)(Ze,{target:"eiv2b104"})({name:"l1gojm",styles:"top:-35px;padding-block-start:4px;display:flex;align-items:center;>span{line-height:1;}"}),Je=Object($e.a)("input",{target:"eiv2b103"})({name:"e25hrh",styles:"appearance:none;background:rgba(255, 255, 255, 0.75);border:none;padding:0;height:18px;margin-inline-start:3px;width:150px;.scheme-light &{background:rgba(0, 0, 0, 0.5);}&:focus-visible{outline:1px solid;}"}),Xe=Object($e.a)("div",{target:"eiv2b102"})({name:"1do1th2",styles:"display:flex;gap:4px;margin-inline-start:8px;margin-inline-end:4px"}),et=Object($e.a)("button",{target:"eiv2b101"})(Be.f," display:flex;align-items:center;border-radius:2px;padding:2px;&:hover,&:focus-visible{color:var(--error-color);background:var(--background-color);}&:disabled{cursor:default;&:hover{background:none;color:inherit;}}"),tt=Object($e.a)(et,{target:"eiv2b100"})({name:"14tjs2j",styles:"&:hover,&:focus-visible{color:var(--hover-color);background:var(--background-color);}"}),rt=(e,t)=>{const r=b.f.includes(e)?"green":b.b.includes(e)?"blue":"yellow";return{outline:"2px dotted",outlineColor:t?Ge[r].dark:Ge[r].light,borderRadius:"2px",borderTopLeftRadius:0,outlineOffset:"6px",position:"relative"}};function nt(e){var t,r,o;let l=e.visible,i=e.element;const c=Object(s.h)(),d=Object(n.useRef)(null),f=Object(Ae.a)().t,p=Te().editingCrumb;if(Object(n.useEffect)(()=>{d.current&&p&&d.current.focus()},[p]),!l)return null;const m=b.f.includes(i.type)?"green":b.b.includes(i.type)?"blue":"yellow",y=s.b.findPath(c,i),g=1===y.length||"li"===i.type&&!u.a.isEmpty(c,i),v=y.length<=2||"li"===i.type,h=null!==(t=i.htmlAttrs)&&void 0!==t&&t.id?`${i.type}#${i.htmlAttrs.id}`:i.type,k=null===(r=i.htmlAttrs)||void 0===r||null===(o=r.class)||void 0===o?void 0:o.trim().replaceAll(" ",".");return p?a.a.createElement(Qe,{contentEditable:!1,$color:m},a.a.createElement("span",null,h,"."),a.a.createElement(Je,{ref:d,defaultValue:k,onChange:e=>(e=>{e.persist();Pe()(()=>{u.j.setNodes(c,{...i,htmlAttrs:{...i.htmlAttrs,class:e.target.value.replaceAll("."," ").trim()}},{at:y,mode:"highest"})},1e3)(e)})(e)}),a.a.createElement(Xe,null,a.a.createElement(tt,{onClick:e=>{e.preventDefault(),H({editor:c,format:i.type,path:y})},"aria-label":f("editor.controls.labels.lift"),disabled:v},a.a.createElement(Re.a,{icon:"arrowUp16",size:16})),a.a.createElement(et,{onClick:e=>{e.preventDefault(),((e,t)=>{const r=u.c.get(e,t);if(1===t.length&&0===t[0])return;if(U(e,r))return u.j.removeNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&j()(n,t)});if(u.a.isInline(e,r))return u.j.unwrapNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&j()(n,t)});if("ol"===r.type||"ul"===r.type)return r.children.forEach(t=>{const r=s.b.findPath(e,t);u.j.setNodes(e,{type:"p",slateOnly:void 0},{at:r,mode:"highest"}),t.children&&t.children.forEach(t=>{if("ol"===t.type||"ul"===t.type){const r=s.b.findPath(e,t);return u.j.unwrapNodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"p"===e.type,at:r,mode:"lowest"})}})}),u.j.unwrapNodes(e,{match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&j()(n,t),at:t});const n=u.a.hasBlocks(e,r);if("pre"===r.type&&r.children[0].code&&u.j.setNodes(e,{...r.children[0],code:void 0},{at:[...t,0],mode:"highest"}),n)return u.j.unwrapNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&!e.slateOnly&&j()(n,t)});n||u.a.withoutNormalizing(e,()=>{let n=0;r.children.forEach(r=>{C()(r,"text")&&!u.c.string(r)?u.j.removeNodes(e,{at:[...t,n]}):(u.j.wrapNodes(e,{type:"div",slateOnly:!0},{at:[...t,n]}),n+=1)}),u.j.unwrapNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&!e.slateOnly&&j()(n,t)})})})(c,y)},"aria-label":f("actions.delete"),disabled:g},a.a.createElement(Re.a,{icon:"delete24",size:16})))):a.a.createElement(Ze,{$color:m},M(i))}function at(){return(at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ot(e){var t;let r=e.element,n=e.children,o=e.attributes,l=e.as,i=e.showHtml,c=e.darkMode;const d=Object(s.h)(),f=Object(s.d)(),b=Object(s.e)(),p=s.b.findPath(d,r),m=we()({"responsive-iframe":"iframe"===l}),y=(null!=r?r:{}).htmlAttrs,g=null!==(t=null==y?void 0:y.class)&&void 0!==t?t:void 0,v=(null==y?void 0:y["data-epub-type"])||void 0;return a.a.createElement("div",at({className:null!=y&&y.inline?"inline-block":void 0},o,{style:i?rt("a",c):void 0}),n,a.a.createElement("span",{contentEditable:!1},a.a.createElement(Ve,{className:m,"data-epub-type":v},a.a.createElement(Fe,{as:null!=l?l:"img",src:y.src,alt:l?void 0:y.alt,title:l?y.title:void 0,$selected:b&&f,className:g,width:null==y?void 0:y.width,height:null==y?void 0:y.height}),a.a.createElement(Le,{$visible:b},a.a.createElement(Ue,{onClick:"iframe"===l?Ne:Ie},a.a.createElement(_e.a.IconComposer,{icon:"annotate24",size:24})),a.a.createElement(Ue,{$color:"red",onClick:e=>(e.preventDefault(),u.a.withoutNormalizing(d,()=>{u.j.removeNodes(d,{at:p}),u.j.insertNodes(d,{type:"p",children:[{text:""}]},{select:!0})}))},a.a.createElement(_e.a.IconComposer,{icon:"delete24",size:24}))))),a.a.createElement(nt,{element:r,visible:i}))}function lt(e){let t=e.element,r=e.children,o=e.attributes,l=e.theme,i=e.darkMode,c=e.showHtml;const u=Object(s.d)(),d=Object(s.e)(),f=(null!=t?t:{}).srcdoc,b=Object(n.useRef)();return Object(n.useEffect)(()=>{var e;if(b.current&&!b.current.shadowRoot){const e=b.current.attachShadow({mode:"open"}),t=document.createElement("div"),r="manifold-text-section "+(i?"scheme-dark":"scheme-light");t.setAttribute("class",r);const n=document.createElement("style");n.textContent=l,e.appendChild(n),t.innerHTML=f,e.appendChild(t)}if(null!==(e=b.current)&&void 0!==e&&e.shadowRoot){const e=b.current.shadowRoot.childNodes[1],t="manifold-text-section "+(i?"scheme-dark":"scheme-light");e.setAttribute("class",t)}},[f,l,i]),a.a.createElement(We,o,r,a.a.createElement(qe,{contentEditable:!1,$selected:d&&u,style:c?rt("div",i):void 0},a.a.createElement(He,null,a.a.createElement(_e.a.IconComposer,{svgProps:{style:{flexShrink:0}},icon:"code24"}),a.a.createElement("span",null,"Preview only. Switch to HTML mode to edit this block:")),a.a.createElement("div",{ref:b}),a.a.createElement(nt,{element:t,visible:c})))}function it(){return(it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ct(e){var t,r;let n=e.attributes,o=e.children,l=e.element,i=e.theme,c=e.darkMode;const u=(null===(t=l.htmlAttrs)||void 0===t?void 0:t.class)||void 0,d=(null===(r=l.htmlAttrs)||void 0===r?void 0:r["data-epub-type"])||void 0,f=Object(s.h)(),p=s.b.findKey(f,l).id,m=Te().selectedCrumb,y=(m===p||"all"===m)&&!l.slateOnly;if("br"===l.type)return a.a.createElement("p",it({},n,{style:y?rt("p",c):void 0}),o,a.a.createElement(nt,{element:l,visible:y}));if("hr"===l.type)return a.a.createElement(Ke,it({contentEditable:!1},n),o,a.a.createElement(Ye,null,a.a.createElement("hr",{className:u,"data-epub-type":d,style:y?rt("hr",c):void 0})),a.a.createElement(nt,{element:l,visible:y}));if("void"===l.type)return a.a.createElement(lt,{attributes:n,element:l,theme:i,darkMode:c,showHtml:y},o);if("img"===l.type)return a.a.createElement(ot,{attributes:n,element:l,showHtml:y,darkMode:c},o);if("iframe"===l.type)return a.a.createElement(ot,{as:"iframe",attributes:n,element:l,showHtml:y,darkMode:c},o);var g;if("a"===l.type)return a.a.createElement("a",it({className:u,"data-epub-type":d,href:null===(g=l.htmlAttrs)||void 0===g?void 0:g.href},n,{style:y?rt("a",c):void 0}),o,a.a.createElement(nt,{element:l,visible:y}));if("pre"===l.type)return a.a.createElement("pre",it({className:u,"data-epub-type":d},n,{style:y?rt("pre",c):void 0}),a.a.createElement("code",null,o),a.a.createElement(nt,{element:l,visible:y}));if("div"===l.type&&l.inline)return a.a.createElement("div",it({className:we()("inline-block",u),"data-epub-type":d},n),o);if(b.f.includes(l.type)||b.e.includes(l.type)||b.c.includes(l.type)||b.d.includes(l.type)||"span"===l.type){const e="list-sibling"===l.type?"span":l.type;return a.a.createElement(e,it({className:u,"data-epub-type":d},n,{style:y?rt(e,c):void 0}),o,a.a.createElement(nt,{element:l,visible:y}))}return null}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const dt=(e,t)=>{if("Enter"===e.key)return e.shiftKey?(e.preventDefault(),(e=>{u.j.insertText(e,"\n")})(t)):void 0;if("Tab"===e.key){if(!st(R(t,t.selection),1)[0])return;return e.preventDefault(),e.shiftKey?pe({editor:t}):(e=>{const t=le(R(e,e.selection),2),r=t[0],n=t[1],a=le(D(e,n),2),o=a[0],l=a[1];if(!r||!o)return;const i=o.type,c=[...n].pop(),s=u.a.start(e,n),d=u.a.start(e,l);if(u.f.equals(s,d))return u.a.withoutNormalizing(e,()=>{ue({editor:e,srcPath:l,destPath:l,node:o,type:i});const t=se(e,[...l,0,0]),r=t.path,n=t.offset;S(e,r,n)});const f=[...n.slice(0,-1),c-1],b=le(u.a.node(e,f),1)[0];if(!b)return;const p=u.c.children(e,f),m=le(be(p),2),y=m[0],g=m[1];if(y)return u.j.moveNodes(e,{at:n,to:[...g,y.children.length]});u.a.withoutNormalizing(e,()=>{if(u.a.hasBlocks(e,b)){const t=[...f,b.children.length];ue({editor:e,srcPath:n,destPath:t,node:r,type:i});const a=se(e,[...t,0]),o=a.path,l=a.offset;return void S(e,o,l)}fe({editor:e,at:[...f,0],nodes:b.children});const t=[...f,1];ue({editor:e,srcPath:n,destPath:t,node:r,type:i});const a=se(e,[...t,0]),o=a.path,l=a.offset;S(e,o,l)})})(t)}if(e.metaKey||e.ctrlKey){if(e.metaKey&&e.altKey||e.ctrlKey&&e.shiftKey)switch(e.keyCode){case 48:return e.preventDefault(),K(t,"p");case 49:return e.preventDefault(),K(t,"h1");case 50:return e.preventDefault(),K(t,"h2");case 51:return e.preventDefault(),K(t,"h3");case 52:return e.preventDefault(),K(t,"h4");case 53:return e.preventDefault(),K(t,"h5");case 54:return e.preventDefault(),K(t,"h6");case 55:return e.preventDefault(),K(t,"ol");case 56:return e.preventDefault(),K(t,"ul");case 57:return e.preventDefault(),K(t,"blockquote");case 69:return e.preventDefault(),K(t,"pre")}if(e.shiftKey&&"s"===e.key)return e.preventDefault(),Y(t,"strikethrough");switch(e.key){case"b":return e.preventDefault(),Y(t,"bold");case"i":return e.preventDefault(),Y(t,"italic");case"u":return e.preventDefault(),Y(t,"underline");case"e":return e.preventDefault(),Y(t,"code");case"k":return e.preventDefault(),(e=>{if(L(e))return p(e);const t=e.selection;if(!(t&&u.g.isCollapsed(t))){const t=Se(P(e),1)[0],r=u.c.string(t);if(Object(G.c)(r))return m(e,r)}const r=document.getElementsByName("link-modal-trigger");r[0]&&r[0].click()})(t);case"g":return e.preventDefault(),Ie(t);case"m":return e.preventDefault(),Ne(t)}}};var ft=r(1143),bt=r.n(ft);r(1149),r(1151),r(1153),r(1083),r(1084);const pt=["aceRef","nextRef","prevRef","darkMode"];function mt(){return(mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gt(e){const t=e.aceRef,r=e.nextRef,n=e.prevRef,o=e.darkMode,l=yt(e,pt);return a.a.createElement(bt.a,mt({ref:t,theme:o?"idle_fingers":"kuroir",editorProps:{$blockScrolling:!0},width:"100%",minLines:40,maxLines:1e4,wrapEnabled:!0,showPrintMargin:!1,onLoad:e=>{e.once("change",()=>{e.session.getUndoManager().reset()}),e.commands.removeCommand("find"),e.renderer.setPadding(24,24),e.renderer.setScrollMargin(24,24);e.textInput.getElement().addEventListener("keydown",e=>{if("ArrowDown"===e.key){document.querySelector(".top.pad-xl").scrollBy(0,16)}if("ArrowUp"===e.key){document.querySelector(".top.pad-xl").scrollBy(0,-16)}})},onFocus:()=>{t.current&&t.current.editor.gotoLine(0,0,!0)},editorOptions:{enableAutoIndent:!0},commands:[{name:"tab",bindKey:{win:"Tab",mac:"Tab"},exec:()=>{r.current.focus()}},{name:"shiftTab",bindKey:{win:"Shift+Tab",mac:"Shift+Tab"},exec:()=>{n.current.focus()}}]},l))}var vt=r(217);const ht=Object($e.a)("div",{target:"e1e32g678"})({name:"7y2kgy",styles:"display:flex;flex-direction:column;gap:16px;align-items:center;padding:0 4px 8px 4px"}),kt=Object($e.a)("span",{target:"e1e32g677"})(Be.I," font-style:normal;font-weight:400;font-size:17px;color:var(--input-color);"),xt=Object($e.a)("div",{target:"e1e32g676"})({name:"1yz57yz",styles:"padding-block-end:6px;span{display:inline-block;}span+span{margin-block-start:12px;}"}),Ot=Object($e.a)("span",{target:"e1e32g675"})({name:"utdwfv",styles:"min-width:175px"}),jt=Object($e.a)("div",{target:"e1e32g674"})(""),Et=Object($e.a)("span",{target:"e1e32g673"})({name:"bk842r",styles:"whitespace:nowrap"}),wt=Object($e.a)("span",{target:"e1e32g672"})({name:"13cm0wy",styles:"whitespace:nowrap;font-style:normal;display:inline-block"}),At=Object($e.a)("span",{target:"e1e32g671"})({name:"zdez4m",styles:"display:inline-flex;flex-wrap:nowrap;flex-shrink:0;justify-content:center;align-items:center;padding-block-start:6px;padding-block-end:10px;padding-inline:10px;background-color:var(--background-color);font-family:var(--font-family-sans);font-weight:var(--font-weight-semibold);border-radius:4px;font-style:normal;line-height:1"}),Ct=Object($e.a)("div",{target:"e1e32g670"})({name:"10z79ec",styles:"display:flex;gap:8px;flex-wrap:no-wrap;margin-block-start:8px;align-items:center"});function _t(e){let t=e.label,r=e.description,o=e.hotkeys,l=void 0===o?[]:o;return a.a.createElement(ht,null,a.a.createElement(xt,null,a.a.createElement(kt,null,t),r&&a.a.createElement(Ot,null,r)),l.map(e=>a.a.createElement(jt,{key:e.label},a.a.createElement(Et,null,e.label),a.a.createElement(Ct,null,e.keys.map((t,r)=>a.a.createElement(n.Fragment,{key:`${t}_${r}`},a.a.createElement(At,null,t),e.inline&&0===r&&a.a.createElement(wt,null,"[text]")))))))}const St={p:[{label:"Mac",keys:["Cmd","Option","0"]},{label:"Windows",keys:["Ctrl","Shift","0"]}],h1:[{label:"Mac",keys:["Cmd","Option","1"]},{label:"Windows",keys:["Ctrl","Shift","1"]},{label:"Markdown",keys:["#","Space"]}],h2:[{label:"Mac",keys:["Cmd","Option","2"]},{label:"Windows",keys:["Ctrl","Shift","2"]},{label:"Markdown",keys:["##","Space"]}],h3:[{label:"Mac",keys:["Cmd","Option","3"]},{label:"Windows",keys:["Ctrl","Shift","3"]},{label:"Markdown",keys:["###","Space"]}],h4:[{label:"Mac",keys:["Cmd","Option","4"]},{label:"Windows",keys:["Ctrl","Shift","4"]},{label:"Markdown",keys:["####","Space"]}],h5:[{label:"Mac",keys:["Cmd","Option","5"]},{label:"Windows",keys:["Ctrl","Shift","5"]},{label:"Markdown",keys:["#####","Space"]}],h6:[{label:"Mac",keys:["Cmd","Option","6"]},{label:"Windows",keys:["Ctrl","Shift","6"]},{label:"Markdown",keys:["######","Space"]}],ol:[{label:"Mac",keys:["Cmd","Option","7"]},{label:"Windows",keys:["Ctrl","Shift","7"]},{label:"Markdown",keys:["1.","Space"]}],ul:[{label:"Mac",keys:["Cmd","Option","8"]},{label:"Windows",keys:["Ctrl","Shift","8"]},{label:"Markdown",keys:["-","Space"]}],blockquote:[{label:"Mac",keys:["Cmd","Option","9"]},{label:"Windows",keys:["Ctrl","Shift","9"]},{label:"Markdown",keys:[">","Space"]}],link:[{label:"Mac",keys:["Cmd","K"]},{label:"Windows",keys:["Ctrl","K"]}],pre:[{label:"Mac",keys:["Cmd","Option","E"]},{label:"Windows",keys:["Ctrl","Shift","E"]},{label:"Markdown",keys:["```","Space"]}],italic:[{label:"Mac",keys:["Cmd","I"]},{label:"Windows",keys:["Ctrl","I"]},{label:"Markdown",keys:["*","*"],inline:!0}],strikethrough:[{label:"Mac",keys:["Cmd","Shift","S"]},{label:"Windows",keys:["Ctrl","Shift","S"]},{label:"Markdown",keys:["~","~"],inline:!0}],bold:[{label:"Mac",keys:["Cmd","B"]},{label:"Windows",keys:["Ctrl","B"]},{label:"Markdown",keys:["**","**"],inline:!0}],underline:[{label:"Mac",keys:["Cmd","U"]},{label:"Windows",keys:["Ctrl","U"]}],code:[{label:"Mac",keys:["Cmd","E"]},{label:"Windows",keys:["Ctrl","E"]},{label:"Markdown",keys:["`","`"],inline:!0}],undo:[{label:"Mac",keys:["Cmd","Z"]},{label:"Windows",keys:["Ctrl","Z"]}],redo:[{label:"Mac",keys:["Cmd","Shift","Z"]},{label:"Windows",keys:["Ctrl","Y"]}],img:[{label:"Mac",keys:["Cmd","G"]},{label:"Windows",keys:["Ctrl","G"]}],iframe:[{label:"Mac",keys:["Cmd","M"]},{label:"Windows",keys:["Ctrl","M"]}]};const Mt=Object($e.a)("button",{target:"e1xrm7ho7"})(Be.f," display:inline-flex;align-items:center;justify-content:center;height:28px;width:28px;background-color:none;transition:color ",Be.m,",background-color ",Be.m,';font-family:var(--font-family-sans);font-weight:var(--font-weight-semibold);border-radius:4px;margin-inline-start:3px;&:hover{background-color:var(--background-color);color:inherit;}&[data-active="true"]{color:var(--drawer-bg-color);background-color:var(--color-accent-primary);}&:focus-visible,&:focus{',Be.k,";}"),It=Object($e.a)("div",{target:"e1xrm7ho6"})({name:"1j5vobt",styles:"display:flex;align-items:center;gap:4px"}),Nt=Object($e.a)("div",{target:"e1xrm7ho5"})({name:"s15oq9",styles:"position:relative;width:max-content;margin-block-start:-3px;margin-inline-start:5px;cursor:pointer"}),Rt=Object($e.a)("div",{target:"e1xrm7ho4"})({name:"1nrevy2",styles:"position:relative;display:inline-block"}),Dt=Object($e.a)("select",{target:"e1xrm7ho3"})(Be.f,' font-family:var(--font-family-sans);line-height:22px;font-size:14px;width:120px;height:28px;display:inline-block;border-radius:4px;padding-block-start:2px;padding-block-end:4px;padding-inline-start:8px;.backend &{color:var(--color);&[data-active="true"]{color:var(--drawer-bg-color);background-color:',e=>e.$color,";}&:hover{background-color:var(--background-color);color:var(--color);}}&:focus-visible,&:focus{",Be.k,";}"),Pt=Object($e.a)(Dt,{target:"e1xrm7ho2"})('width:auto;padding-inline:8px;.backend &{&[data-active="true"]{color:var(--drawer-bg-color);background-color:var(--color-base-blue45);}&:hover{background-color:var(--background-color);color:var(--color);}}&:focus-visible,&:focus{',Be.k,";}"),zt=Object($e.a)(Re.a,{target:"e1xrm7ho1"})({name:"a3x7ss",styles:'position:absolute;top:25%;right:4px;pointer-events:none;select[data-active="true"]:not(:hover)+&{color:var(--drawer-bg-color);}'}),Tt=Object($e.a)("button",{target:"e1xrm7ho0"})(Be.f," ",Be.C," padding-inline-start:12px;padding-inline-end:16px;padding-block:6px;background-color:var(--box-bg-color);border-radius:4px;display:inline-flex;justify-content:center;align-items:center;gap:12px;margin-inline-start:auto;svg{margin-top:3px;}&:hover{background-color:var(--color-accent-primary);color:var(--box-bg-color);}"),$t=["format","icon","size"];function Bt(){return(Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Ut=(e,t)=>{let r=e.format,n=e.icon,o=e.size,l=Lt(e,$t);const i=Object(s.f)(),c=(null!=i?i:{}).selection,u=Object(Ae.a)().t;return a.a.createElement(vt.a,{content:a.a.createElement(_t,{label:u("editor.tooltips.labels."+r),hotkeys:St[r]}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(Mt,Bt({ref:t},l,{"aria-label":u("editor.controls.labels.format",{format:r}),"data-active":T(i,r),onClick:e=>{e.preventDefault(),c&&K(i,r)},tabIndex:-1}),n&&a.a.createElement(_e.a.IconComposer,{icon:n,size:o})))};var Ft=Object(n.forwardRef)(Ut);const Vt=["format","label","icon","isFirst"];function Wt(){return(Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Ht=(e,t)=>{let r=e.format,n=e.label,o=e.icon,l=e.isFirst,i=qt(e,Vt);const c=Object(s.f)(),u=(null!=c?c:{}).selection,d=Object(Ae.a)().t;return a.a.createElement(vt.a,{content:a.a.createElement(_t,{label:d("editor.tooltips.labels."+r),hotkeys:St[r]}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(Mt,Wt({ref:t},i,{"aria-label":d("editor.controls.labels.format",{format:r}),"data-active":B(c,r),onClick:e=>{e.preventDefault(),u&&Y(c,r)},tabIndex:l?0:-1}),o&&a.a.createElement(_e.a.IconComposer,{icon:o}),n&&n))};var Kt=Object(n.forwardRef)(Ht),Yt=r(162),Gt=r(155);const Zt=Object($e.a)("form",{target:"e1avvvck9"})({name:"1ndn4b9",styles:">*+*{margin-block-start:50px;}"}),Qt=Object($e.a)("button",{target:"e1avvvck8"})(Be.f," display:inline-flex;align-items:center;justify-content:flex-end;font-size:17px;cursor:pointer;",e=>e.$primary&&`\n    cursor: pointer;\n\n    &:hover {\n      ${Be.l}\n      outline: 0;\n    }\n\n    &:focus-visible {\n      color: var(--focus-color);\n    }\n  `,";"),Jt=Object($e.a)("span",{target:"e1avvvck7"})(Be.ib," margin-right:6px;font-size:12px;font-weight:var(--font-weight-semibold);line-height:","24px",";letter-spacing:0.125em;"),Xt=Object($e.a)(_e.a.IconComposer,{target:"e1avvvck6"})("width:","24px",";height:","24px",";"),er=Object($e.a)("header",{target:"e1avvvck5"})({name:"3swheu",styles:"display:flex;justify-content:space-between;align-items:center;padding-block-start:0"}),tr=Object($e.a)(_e.a.IconComposer,{target:"e1avvvck4"})({name:"1asbwlv",styles:"color:var(--color-accent-primary);margin-top:2px"}),rr=Object($e.a)("span",{target:"e1avvvck3"})({name:"kmyzha",styles:"display:flex;gap:12px;align-items:center;margin-top:-2px;h2{margin-top:-6px;}"}),nr=Object($e.a)("div",{target:"e1avvvck2"})({name:"1d3w5wq",styles:"width:100%"}),ar=Object($e.a)(Gt.a.Wrapper,{target:"e1avvvck1"})("max-width:600px;padding-block:",Object(Be.v)("50px","30px"),";padding-inline:",Object(Be.v)("60px","40px"),";"),or=Object($e.a)("div",{target:"e1avvvck0"})({name:"10xput4",styles:"display:flex;gap:24px;margin-top:64px"});function lr(e){let t=e.urlRef,r=e.textRef,n=e.defaultValues;const o=Object(Ae.a)().t;return a.a.createElement(Zt,null,a.a.createElement(Yt.a,{defaultValue:null==n?void 0:n.text,ref:r,name:"text",label:o("editor.forms.link_text_label")}),a.a.createElement(Yt.a,{defaultValue:null==n?void 0:n.url,ref:t,name:"url",label:o("editor.forms.link_url_label")}))}var ir=r(9),cr=r(947);function sr(e){const t=e.form,r=e.resolve,n=e.reject,o=e.heading,l=e.icon,i=e.resolveLabel,c=Object(cr.a)(),s=Object(Ae.a)().t,u=e=>{e.preventDefault(),n(e)},d="button-secondary button-secondary--outlined";return a.a.createElement(ar,{maxWidth:600,showCloseButton:!1,closeOnOverlayClick:!1,labelledBy:s("editor.forms.labelled_by_uid",{uid:c}),describedBy:s("editor.forms.described_by_uid",{uid:c}),onEsc:e.reject},a.a.createElement(a.a.Fragment,null,a.a.createElement(er,{className:"dialog__header"},a.a.createElement(rr,null,a.a.createElement(tr,{icon:l}),a.a.createElement("h2",{id:s("editor.forms.labelled_by_uid",{uid:c})},o)),a.a.createElement(Qt,{onClick:u,tabIndex:0},a.a.createElement(Jt,null,s("actions.close")),a.a.createElement(Xt,{icon:"close24",size:24}))),a.a.createElement(nr,{className:"dialog__body"},t,a.a.createElement(or,null,"function"==typeof r&&a.a.createElement("button",{onClick:e=>{e.preventDefault(),r(e)},className:d,"data-id":"accept"},a.a.createElement("span",null,i)),a.a.createElement("button",{className:we()(d,"button-secondary--dull"),onClick:u,"data-id":"reject"},a.a.createElement("span",null,s("actions.cancel")))))))}sr.displayName="ContentEditor.Insert.Modal",sr.propTypes={resolve:l.a.func,reject:l.a.func.isRequired,heading:l.a.string,options:l.a.object,message:l.a.oneOfType([l.a.string,l.a.object])};const ur=(e,t)=>r=>{var n;r();const a=null!==(n=e.selection)&&void 0!==n?n:t;setTimeout(()=>{u.j.select(e,a),s.b.focus(e)},200)},dr=["icon","size"];function fr(){return(fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function br(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const pr=(e,t)=>{let r=e.icon,o=e.size,l=br(e,dr);const i=Object(s.f)(),c=L(i),d=Object(ir.c)(),f=d.confirm,b=d.confirmation,y=Object(n.useRef)(null),g=Object(n.useRef)(null),v=Object(Ae.a)().t,h=e=>{var t,r,n,a;const o=null==y||null===(t=y.current)||void 0===t||null===(r=t.inputElement)||void 0===r?void 0:r.value,l=null==g||null===(n=g.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value;o&&(e(),m(i,o,l))};return a.a.createElement(vt.a,{content:a.a.createElement(_t,{label:v("editor.tooltips.labels.link"),hotkeys:St.link}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(Mt,fr({name:"link-modal-trigger",ref:t},l,{"aria-label":v("editor.controls.labels.link"),"data-active":c,onClick:e=>{e.preventDefault();const t=(null!=i?i:{}).selection;if(!t)return;if(c)return p(i);const n=v("editor.forms.link_insert_heading"),o=u.g.isCollapsed(t)?{}:{text:u.a.string(i,t)};f&&f({heading:n,icon:r,form:a.a.createElement(lr,{urlRef:y,textRef:g,defaultValues:o}),callback:h,closeCallback:ur(i,t),resolveLabel:v("actions.add")})},tabIndex:-1}),r&&a.a.createElement(_e.a.IconComposer,{icon:r,size:o}),b&&a.a.createElement(sr,b)))};var mr=Object(n.forwardRef)(pr);function yr(e){let t=e.urlRef,r=e.altRef,n=e.defaultValues;const o=Object(Ae.a)().t;return a.a.createElement(Zt,null,a.a.createElement(Yt.a,{defaultValue:null==n?void 0:n.src,ref:t,name:"url",label:o("editor.forms.image_url_label")}),a.a.createElement(Yt.a,{defaultValue:null==n?void 0:n.alt,ref:r,name:"alt",label:o("editor.forms.alt_text_label")}))}const gr=["icon","size"];function vr(){return(vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Or=(e,t)=>{let r=e.icon,o=e.size,l=xr(e,gr);const i=Object(Ae.a)().t,c=Object(s.f)(),d=(null!=c?c:{}).selection,f=Object(ir.c)(),b=f.confirm,p=f.confirmation,m=Object(n.useRef)(null),y=Object(n.useRef)(null),g=e=>{var t,r,n,a;const o=null==m||null===(t=m.current)||void 0===t||null===(r=t.inputElement)||void 0===r?void 0:r.value;if(!o)return;const l=null==y||null===(n=y.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value;return e(),v(c,o,l)},h=e=>t=>{var r,n,a,o,l;const i=null!==(r=null==m||null===(n=m.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value)&&void 0!==r?r:e.src;if(!i)return;const d=null==y||null===(o=y.current)||void 0===o||null===(l=o.inputElement)||void 0===l?void 0:l.value;t(),u.j.setNodes(c,{htmlAttrs:{...e,src:i,alt:d}}),s.b.focus(c)},k=T(c,"img");return a.a.createElement(vt.a,{content:a.a.createElement(_t,{label:i("editor.tooltips.labels.img"),description:i("editor.tooltips.descriptions.img"),hotkeys:St.img}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement("div",null,a.a.createElement(Mt,vr({name:"img-modal-trigger",ref:t},l,{"aria-label":i("editor.controls.labels.image"),"data-active":k,onClick:k?e=>{var t;e.preventDefault();const n=hr(Array.from(u.a.nodes(c,{at:u.a.unhangRange(c,d),match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"img"===e.type})),1),o=hr(n[0],1)[0],l=null!==(t=null==o?void 0:o.htmlAttrs)&&void 0!==t?t:{},s={src:l.src,alt:l.alt},f=i("editor.forms.image_update_heading");b&&b({heading:f,icon:r,form:a.a.createElement(yr,{defaultValues:s,urlRef:m,altRef:y}),callback:h(l),closeCallback:ur(c,d),resolveLabel:i("actions.update")})}:e=>{if(e.preventDefault(),!d)return;const t=i("editor.forms.image_insert_heading");b&&b({heading:t,icon:r,form:a.a.createElement(yr,{urlRef:m,altRef:y}),callback:g,closeCallback:ur(c,d),resolveLabel:i("actions.add")})},tabIndex:-1}),r&&a.a.createElement(_e.a.IconComposer,{icon:r,size:o})),p&&a.a.createElement(sr,p)))};var jr=Object(n.forwardRef)(Or);function Er(e){let t=e.urlRef,r=e.titleRef,n=e.defaultValues;const o=Object(Ae.a)().t;return a.a.createElement(Zt,null,a.a.createElement(Yt.a,{defaultValue:null==n?void 0:n.src,ref:t,name:"url",label:o("editor.forms.iframe_url_label")}),a.a.createElement(Yt.a,{defaultValue:null==n?void 0:n.title,ref:r,name:"title",label:o("editor.forms.title_label")}))}const wr=["icon","size"];function Ar(){return(Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Mr=(e,t)=>{let r=e.icon,o=e.size,l=Sr(e,wr);const i=Object(s.f)(),c=(null!=i?i:{}).selection,d=Object(ir.c)(),f=d.confirm,b=d.confirmation,p=Object(n.useRef)(null),m=Object(n.useRef)(null),y=Object(Ae.a)().t,g=e=>{var t,r,n,a;const o=null==p||null===(t=p.current)||void 0===t||null===(r=t.inputElement)||void 0===r?void 0:r.value;if(!o)return;const l=null==m||null===(n=m.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value;return Object(G.c)(o)?(e(),x(i,o,l)):void 0},v=e=>t=>{var r,n,a,o,l;const c=null!==(r=null==p||null===(n=p.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value)&&void 0!==r?r:e.src;if(!c)return;const d=null==m||null===(o=m.current)||void 0===o||null===(l=o.inputElement)||void 0===l?void 0:l.value;t(),u.j.setNodes(i,{htmlAttrs:{...e,src:c,title:d}}),s.b.focus(i)},h=T(i,"iframe");return a.a.createElement(vt.a,{content:a.a.createElement(_t,{label:y("editor.tooltips.labels.iframe"),description:y("editor.tooltips.descriptions.iframe"),hotkeys:St.iframe}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement("div",null,a.a.createElement(Mt,Ar({name:"iframe-modal-trigger",ref:t},l,{"aria-label":y("editor.controls.labels.iframe"),"data-active":h,onClick:h?e=>{var t;e.preventDefault();const n=Cr(Array.from(u.a.nodes(i,{at:u.a.unhangRange(i,c),match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"iframe"===e.type})),1),o=Cr(n[0],1)[0],l=null!==(t=null==o?void 0:o.htmlAttrs)&&void 0!==t?t:{},s={src:l.src,title:l.title},d=y("editor.forms.iframe_update_heading");f&&f({heading:d,icon:r,form:a.a.createElement(Er,{defaultValues:s,urlRef:p,titleRef:m}),callback:v(l),closeCallback:ur(i,c),resolveLabel:y("actions.add")})}:e=>{if(e.preventDefault(),!c)return;const t=y("editor.forms.iframe_insert_heading");f&&f({heading:t,icon:r,form:a.a.createElement(Er,{urlRef:p,titleRef:m}),callback:g,closeCallback:ur(i,c),resolveLabel:y("actions.add")})},tabIndex:-1}),r&&a.a.createElement(_e.a.IconComposer,{icon:r,size:o})),b&&a.a.createElement(sr,b)))};var Ir=Object(n.forwardRef)(Mr);const Nr=["options","name","color","ariaLabel"];function Rr(){return(Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Dr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Pr=(e,t)=>{let r=e.options,n=e.name,o=e.color,l=e.ariaLabel,i=Dr(e,Nr);const c=Object(s.f)(),u=(null!=c?c:{}).selection,d=Object(Ae.a)().t,f=r.map(e=>a.a.createElement("option",{key:e.format,value:e.format,hidden:!e.format},e.label)),b=((e,t,r)=>{var n;const a="textBlock"===r?$:T,o=t.map(t=>[t,a(e,t)]).reduce((e,t)=>({...e,[t[0]]:t[1]}),{});return null!==(n=Object.keys(o).find(e=>o[e]))&&void 0!==n?n:""})(c,r.map(e=>e.format),n);return a.a.createElement(It,null,a.a.createElement(Rt,null,a.a.createElement(Dt,Rr({ref:t},i,{"aria-label":l,"data-active":""!==b,$color:null!=o?o:"var(--color-accent-primary)",value:b,onChange:e=>{e.preventDefault(),u&&K(c,e.target.value)},tabIndex:-1}),f),a.a.createElement(zt,{icon:"disclosureDown24",size:16})),a.a.createElement(vt.a,{content:b&&"textBlock"===n?a.a.createElement(_t,{label:d("editor.tooltips.labels."+b),hotkeys:St[b]}):a.a.createElement(_t,{label:d("editor.tooltips.labels."+n),description:d("editor.tooltips.descriptions."+n)}),xOffset:"0",yOffset:"43px",delay:0},a.a.createElement(Nt,null,a.a.createElement(Re.a,{icon:"info16",size:14}))))};var zr=Object(n.forwardRef)(Pr);const Tr=["label","icon","onClick","isFirst","tooltip"];function $r(){return($r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Br(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Lr=(e,t)=>{let r=e.label,n=e.icon,o=e.onClick,l=e.isFirst,i=e.tooltip,c=Br(e,Tr);const s=Object(Ae.a)().t,u=r?Tt:Mt,d=a.a.createElement(u,$r({ref:t},c,{"aria-label":s("editor.controls.labels.format",{format:i}),onClick:o,tabIndex:l?0:-1}),n&&a.a.createElement(_e.a.IconComposer,{icon:n,size:24}),r&&r);return i?a.a.createElement(vt.a,{content:a.a.createElement(_t,{label:s("editor.tooltips.labels."+i),hotkeys:St[i],description:s("editor.tooltips.descriptions."+i)}),xOffset:"-50px",yOffset:"43px",delay:.5},d):d};var Ur=Object(n.forwardRef)(Lr);const Fr=["format"];function Vr(){return(Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const qr=(e,t)=>{let r=e.format,n=Wr(e,Fr);const o=Object(s.f)(),l=(null!=o?o:{}).selection,i=Object(Ae.a)().t;return a.a.createElement(vt.a,{content:a.a.createElement(_t,{label:i("editor.tooltips.labels.span"),description:i("editor.tooltips.descriptions.span")}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(Pt,Vr({as:"button",ref:t},n,{"aria-label":i("editor.controls.labels.span"),"data-active":T(o,r),onClick:e=>{e.preventDefault(),l&&K(o,r)},tabIndex:-1}),"Span"))};var Hr=Object(n.forwardRef)(qr),Kr=r(572),Yr=r(571),Gr=r(357),Zr=r(27),Qr=r.n(Zr);const Jr=Object($e.a)("div",{target:"ee4904c8"})({name:"sxr5eu",styles:"width:100%;display:flex;flex-wrap:wrap;row-gap:5px;align-items:center;column-gap:3px;border:1px solid var(--TextArea-border-color);border-bottom-color:var(--textarea-border-color);padding-inline:1.25em;padding-block:1em;background-color:var(--drawer-bg-color);border-top-left-radius:var(--box-border-radius);border-top-right-radius:var(--box-border-radius);color:var(--color);min-height:73px"}),Xr=Object($e.a)("div",{target:"ee4904c7"})("display:flex;flex-wrap:nowrap;align-items:center;gap:8px;",Object(Be.V)("gap: 3px;",30),";"),en=Object($e.a)("div",{target:"ee4904c6"})({name:"1fw2tx8",styles:"margin-inline:12px;border-left:1px solid var(--background-color);height:24px"}),tn=Object($e.a)("div",{target:"ee4904c5"})({name:"r5xe2z",styles:"width:100%;display:flex;flex-wrap:wrap;row-gap:12px;justify-content:space-between;margin-block-end:32px"}),rn=Object($e.a)("div",{target:"ee4904c4"})("border-left:1px solid;border-right:1px solid;background:",e=>e.$darkMode?"var(--TextArea-border-color)":"var(--color-base-neutral30)",";border-color:var(--TextArea-border-color);color:var(--drawer-bg-color);padding-inline:1.5em;padding-block-start:3px;padding-block-end:6px;min-height:30px;font-family:var(--font-family-heading);display:flex;align-items:center;gap:20px;"),nn=Object($e.a)("div",{target:"ee4904c3"})({name:"3reokc",styles:"display:flex;flex-wrap:wrap;align-items:center;column-gap:8px"}),an=Object($e.a)("button",{target:"ee4904c2"})(Be.f," white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;max-width:300px;flex-shrink:0;min-height:24px;&:hover{color:",e=>{let t=e.$color;return e.$darkMode?Ge[t].dark:Ge[t].light},";}&:focus-visible{color:",e=>{let t=e.$color;return e.$darkMode?Ge[t].dark:Ge[t].light},";outline:0;}"),on=Object($e.a)(Re.a,{target:"ee4904c1"})({name:"18pz0bk",styles:"transform:rotate(-90deg);margin-block-start:4px;flex-shrink:0"}),ln=Object($e.a)("button",{target:"ee4904c0"})(Be.f," display:flex;align-items:center;margin-inline-start:auto;&:focus-visible,&:focus{",Be.k,";}");function cn(){return(cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sn(e){var t;let r=e.onClickUndo,o=e.onClickRedo,l=e.darkMode;const i=Object(Ae.a)().t,c=Object(Kr.a)({orientation:"horizontal",loop:!0,wrap:"horizontal"}),d=Object(s.h)(),f=Object(s.g)(),p=null==f||null===(t=f.anchor)||void 0===t?void 0:t.path;let m={};if(p){const e=u.c.ancestors(d,null==f?void 0:f.anchor.path);m=z(d,e)}const y=Te(),g=y.setSelectedCrumb,v=y.selectedCrumb,h=y.editingCrumb,k=y.setEditingCrumb;Object(n.useEffect)(()=>{h&&(k(!1),g(null))},[d.selection]);const x=Object(n.useCallback)(e=>{e.preventDefault();g("all"===v?null:"all")},[v,g]),O=Object(n.useCallback)(e=>{h||g(e)},[h]),j=Object(n.useCallback)(()=>{h||g(null)},[h]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Yr.a,cn({as:Jr,"aria-label":i("editor.controls.labels.toolbar_rte")},c),a.a.createElement(Xr,null,a.a.createElement(Gr.a,cn({as:Ur,icon:"undo24",onClick:r,tooltip:"undo",isFirst:!0},c)),a.a.createElement(Gr.a,cn({as:Ur,icon:"redo24",onClick:o,tooltip:"redo"},c)),a.a.createElement(en,null)),a.a.createElement(Xr,null,a.a.createElement(Gr.a,cn({as:zr,name:"textBlock",ariaLabel:i("editor.controls.labels.text_block_select"),options:[{format:"p",label:i("editor.tooltips.labels.p")},{format:"h1",label:i("editor.tooltips.labels.h1")},{format:"h2",label:i("editor.tooltips.labels.h2")},{format:"h3",label:i("editor.tooltips.labels.h3")},{format:"h4",label:i("editor.tooltips.labels.h4")},{format:"h5",label:i("editor.tooltips.labels.h5")},{format:"h6",label:i("editor.tooltips.labels.h6")},{format:"",label:i("editor.controls.labels.text_block_select_placeholder")}]},c)),a.a.createElement(en,null)),a.a.createElement(Xr,null,a.a.createElement(Gr.a,cn({as:Hr,format:"span"},c)),a.a.createElement(en,null)),a.a.createElement(Xr,null,a.a.createElement(Gr.a,cn({as:zr,name:"container",ariaLabel:i("editor.controls.labels.layout_block_select"),options:[{format:"div",label:i("editor.tooltips.labels.div")},{format:"header",label:i("editor.tooltips.labels.header")},{format:"footer",label:i("editor.tooltips.labels.footer")},{format:"section",label:i("editor.tooltips.labels.section")},{format:"article",label:i("editor.tooltips.labels.article")},{format:"figure",label:i("editor.tooltips.labels.figure")},{format:"figcaption",label:i("editor.tooltips.labels.figcaption")},{format:"",label:i("editor.controls.labels.layout_block_select_placeholder")}],color:"var(--color-base-yellow20)"},c)),a.a.createElement(en,null)),a.a.createElement(Xr,null,a.a.createElement(Gr.a,cn({as:Kt,icon:"bold24",format:"bold"},c)),a.a.createElement(Gr.a,cn({as:Kt,icon:"italic24",format:"italic"},c)),a.a.createElement(Gr.a,cn({as:Kt,icon:"underline24",format:"underline"},c)),a.a.createElement(Gr.a,cn({as:Kt,icon:"strikethrough24",format:"strikethrough"},c)),a.a.createElement(Gr.a,cn({as:Kt,icon:"code24",format:"code"},c)),a.a.createElement(en,null)),a.a.createElement(Xr,null,a.a.createElement(Gr.a,cn({as:Ft,icon:"orderedList24",format:"ol"},c)),a.a.createElement(Gr.a,cn({as:Ft,icon:"unorderedList24",format:"ul"},c)),a.a.createElement(Gr.a,cn({as:Ft,icon:"blockQuote24",format:"blockquote"},c)),a.a.createElement(Gr.a,cn({as:Ft,icon:"codeBlock24",format:"pre"},c)),a.a.createElement(en,null)),a.a.createElement(Xr,null,a.a.createElement(Gr.a,cn({as:mr,icon:"RTELink24"},c)),a.a.createElement(Gr.a,cn({as:jr,icon:"RTEImage24"},c)),a.a.createElement(Gr.a,cn({as:Ir,icon:"iframe24"},c)))),a.a.createElement(rn,{$darkMode:l},a.a.createElement(nn,null,!Qr()(m)&&Object.keys(m).sort((e,t)=>m[e].path.length-m[t].path.length).map((e,t)=>{const r=m[e].label.split(".")[0].split("#")[0],o=b.f.includes(r)?"green":b.b.includes(r)?"blue":"yellow";return a.a.createElement(n.Fragment,{key:e},a.a.createElement(an,{$color:o,$darkMode:l,onMouseEnter:()=>O(e),onMouseLeave:j,onFocus:()=>O(e),onBlur:j,onClick:t=>{t.preventDefault(),g(e),k(!0)}},m[e].label),t<Object.keys(m).length-1&&a.a.createElement(on,{icon:"disclosureDown16",size:16}))})),a.a.createElement(ln,{onClick:x,"aria-label":i("all"===v?"editor.controls.labels.hide_html":"editor.controls.labels.show_html")},a.a.createElement(Re.a,{icon:"eyeball24",size:24}))))}function un(){return(un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dn(e){let t=e.onClickUndo,r=e.onClickRedo,n=e.toggleStyles,o=e.cssVisible,l=e.controlsRef;const i=Object(Ae.a)().t,c=Object(Kr.a)({orientation:"horizontal",loop:!0,wrap:"horizontal"});return a.a.createElement(Yr.a,un({as:Jr,"aria-label":i("editor.controls.labels.toolbar_html")},c),a.a.createElement(Gr.a,un({ref:l,as:Ur,icon:"undo24",onClick:t,isFirst:!0},c)),a.a.createElement(Gr.a,un({as:Ur,icon:"redo24",onClick:r},c)),a.a.createElement(Gr.a,un({as:Ur,label:i(o?"editor.controls.labels.hide_styles":"editor.controls.labels.show_styles"),icon:o?"eyeClosed32":"eyeOpen32",onClick:n},c)))}const fn=Object($e.a)("div",{target:"e1jk1vub3"})(Be.f," ",Be.ib," display:inline-flex;border:1px solid;border-radius:16px;color:var(--color-accent-primary);width:100%;",Object(Be.V)("width: auto;",60),";"),bn=Object($e.a)("button",{target:"e1jk1vub2"})(Be.f," ",Be.ib," display:inline-flex;align-items:center;justify-content:center;gap:8px;padding-inline:",e=>e.$padding,";font-size:14px;font-weight:var(--font-weight-medium);text-decoration:none;text-transform:none;letter-spacing:0;border-top-left-radius:14px;border-bottom-left-radius:14px;transition:color ",Be.m,",background-color ",Be.m,",border-color ",Be.m,";width:50%;",Object(Be.V)("width: auto;",60)," ",e=>e.$active?"\n      color: var(--color-neutral-text-extra-dark);\n      background-color: var(--hover-color);\n      border-color: var(--hover-color);\n\n      &:hover {\n        color: var(--color-neutral-text-extra-dark);\n      }\n\n      &:focus-visible {\n        color: var(--color-base-neutral100);\n        background-color: var(--color-accent-primary-pale);\n        border-color: var(--color-accent-primary-pale);\n        outline: 0;\n      }":"\n      &:focus-visible {\n        color: var(--color-base-neutral100);\n        background-color: var(--color-accent-primary-pale);\n        border-color: var(--color-accent-primary-pale);\n        outline: 0;\n      }\n\n      &:hover {\n        color: inherit;\n        background-color: inherit;\n        border-color: inherit;\n      }\n      "," span{padding-top:7px;padding-bottom:9px;}svg{width:24px;height:24px;padding-bottom:2px;margin:0;}*+&{border-left:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:14px;border-bottom-right-radius:14px;}"),pn=Object($e.a)("span",{target:"e1jk1vub1"})(Object(Be.V)("display: none;",40),";"),mn=Object($e.a)("span",{target:"e1jk1vub0"})(pn,"+&{display:none;",Object(Be.V)("display: inline;",40),";}");function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vn(e){let t=e.options,r=e.padding,n=void 0===r?"20px":r;const o=yn(t,2),l=o[0],i=o[1];return a.a.createElement(fn,null,a.a.createElement(bn,{$active:l.active,$padding:n,onClick:l.onClick},a.a.createElement(Re.a,{icon:l.icon||"code16",size:l.iconSize||16,className:"button-icon-secondary__icon button-icon-secondary__icon--large"}),l.mobileLabel&&a.a.createElement(pn,null,l.mobileLabel),a.a.createElement(mn,null,l.label)),a.a.createElement(bn,{$active:i.active,$padding:n,onClick:i.onClick},a.a.createElement(Re.a,{icon:i.icon||"code16",size:i.iconSize||16,className:"button-icon-secondary__icon button-icon-secondary__icon--large"}),i.mobileLabel&&a.a.createElement(pn,null,i.mobileLabel),a.a.createElement(mn,null,i.label)))}function hn(e){let t=e.htmlMode,r=e.onClickEditorToggle,n=e.darkMode,o=e.onClickDarkModeToggle;const l=Object(Ae.a)().t;return a.a.createElement(tn,null,a.a.createElement(vn,{options:[{label:l("editor.controls.toggles.html_label"),mobileLabel:l("editor.controls.toggles.html_label_mobile"),icon:"editorHTML24",active:t,onClick:r(!0)},{label:l("editor.controls.toggles.rte_label"),mobileLabel:l("editor.controls.toggles.rte_label_mobile"),icon:"editorRTE24",active:!t,onClick:r(!1)}]}),a.a.createElement(vn,{options:[{label:l("editor.controls.toggles.dark_mode_label"),icon:"darkMode16",iconSize:12,active:n,onClick:o(!0)},{label:l("editor.controls.toggles.light_mode_label"),icon:"lightMode16",iconSize:12,active:!n,onClick:o(!1)}],padding:"16px"}))}var kn=r(312);const xn=Object($e.a)("div",{target:"e2ytnqy5"})("width:100%;resize:vertical;outline:none;transition:border-color ",Be.m,";position:relative;border-radius:var(--box-border-radius);&:focus-visible{border-color:var(--TextArea-focus-color);}"),On=Object($e.a)(xn,{target:"e2ytnqy4"})({name:"lspb3",styles:"--TextArea-border-color:var(--textarea-border-color);--TextArea-focus-color:var(--highlight-color);font-family:var(--input-font-family);background-color:var(--input-bg-color);border-radius:var(--box-border-radius);&::placeholder{color:var(--color-neutral-ui-light);}&.error{--TextArea-border-color:var(--error-color);}"}),jn=Object($e.a)("div",{target:"e2ytnqy3"})("min-height:700px;border:1px solid var(--TextArea-border-color);border-top:0;border-bottom-left-radius:var(--box-border-radius);border-bottom-right-radius:var(--box-border-radius);background-color:var(--background-color);overflow:hidden;.ace_editor{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border:0;overflow:visible;}.ace_gutter{min-height:699px!important;overflow:visible;border-bottom-left-radius:var(--box-border-radius);}.ace_scroller{min-height:699px!important;overflow:visible;border-bottom-right-radius:var(--box-border-radius);}.ace_gutter-cell:last-of-type{border-bottom-left-radius:var(--box-border-radius);}",e=>e.$cssVisible&&"\n    .ace_cursor {\n      display: none;\n    }\n  ",";"),En=Object($e.a)(s.a,{target:"e2ytnqy2"})({name:"1u7cb3t",styles:"max-width:850px;margin:auto;padding-block:4em;padding-inline:var(--container-padding-inline-fluid)"}),wn=Object($e.a)("div",{target:"e2ytnqy1"})({name:"1cwvu6q",styles:"position:sticky;top:-80px;z-index:200;background-color:var(--drawer-bg-color);padding-top:30px"}),An=Object($e.a)(kn.a,{target:"e2ytnqy0"})({name:"1h7h89g",styles:"margin-block-end:20px;>span{margin:0;}"});function Cn(e){let t=e.htmlMode,r=e.cssVisible,n=e.darkMode,o=e.onClickEditorToggle,l=e.onClickDarkModeToggle,i=e.onClickRedo,c=e.onClickUndo,s=e.toggleStyles,u=e.errors,d=e.controlsRef;return a.a.createElement(wn,{id:"editor-controls"},a.a.createElement(hn,{htmlMode:t,darkMode:n,onClickEditorToggle:o,onClickDarkModeToggle:l}),!!u.length&&a.a.createElement(An,{errors:u}),t?a.a.createElement(dn,{onClickUndo:c,onClickRedo:i,toggleStyles:s,cssVisible:r,controlsRef:d}):a.a.createElement(sn,{onClickUndo:c,onClickRedo:i,darkMode:n}))}function _n(){return(_n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function In(e){let t=e.localHtml,r=e.localSlate,o=e.setLocalHtml,l=e.onChangeHtml,i=e.setLocalSlate,c=e.stylesheets,f=e.hasErrors,b=e.setHasErrors,p=e.warnErrors,m=e.setWarnErrors,y=e.errors,g=void 0===y?[]:y,v=e.nextRef,h=e.htmlMode,k=e.toggleHtmlMode;const x=Object(s.f)(),O=Object(n.useRef)(),j=Object(n.useRef)(),E=Sn(Object(n.useState)(!1),2),w=E[0],A=E[1],C=Sn(Object(n.useState)(!0),2),S=C[0],M=C[1],I=Object(Ae.a)().t;Object(n.useEffect)(()=>{const e=document.activeElement;if("content-editable"===(null==e?void 0:e.id)&&x.selection&&!h){const e=Sn(s.b.toDOMPoint(x,x.selection.focus),1)[0],t=e.parentElement.getBoundingClientRect(),r=document.getElementById("editor-button-overlay"),n=document.getElementById("editor-controls"),a=r.getBoundingClientRect(),o=n.getBoundingClientRect();t.bottom<a.top&&t.y>o.bottom||e.parentElement.scrollIntoView({behavior:"smooth",block:"center"})}},[x,x.selection,h]);const N=null==c?void 0:c.map(e=>null==e?void 0:e.attributes.styles).join("\n"),R=Object(n.useCallback)(e=>a.a.createElement(ct,_n({},e,{theme:N,darkMode:S})),[N,S]),D=Object(n.useCallback)(e=>a.a.createElement(Ce,e),[]),P=w?{value:N,mode:"css",readOnly:!0,onValidate:()=>{},aceRef:O,nextRef:v,prevRef:j,darkMode:S}:{onChange:l,value:t,onValidate:e=>{const t=e.find(e=>"error"===e.type);t||m(!1),b(t)},mode:"html",aceRef:O,nextRef:v,prevRef:j,darkMode:S},z=we()("manifold-text-section text-section font-size-2",{"scheme-dark":S,"scheme-light":!S}),T=p?[{source:{pointer:"/data/attributes/body"},detail:I("errors.invalid_html_"+p)},...g]:[...g];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Cn,{htmlMode:h,darkMode:S,onClickEditorToggle:e=>n=>{n.stopPropagation(),n.preventDefault(),f?m("switch"):e&&h||(e||h)&&(()=>{if(h){const e=Object(je.c)(t);return i(e),_(x),u.j.insertNodes(x,e),u.j.select(x,{anchor:u.a.start(x,[0]),focus:u.a.start(x,[0])}),k(!1)}const e=Object(G.a)(Object(je.b)(r));o(e),A(!1),k(!0)})()},onClickDarkModeToggle:e=>t=>{t.preventDefault(),M(e)},onClickUndo:e=>{if(e.preventDefault(),!h)return d.a.undo(x);O.current.editor.undo()},onClickRedo:e=>{if(e.preventDefault(),!h)return d.a.redo(x);O.current.editor.redo()},toggleStyles:e=>{e.preventDefault(),A(!w)},cssVisible:w,errors:T,controlsRef:j}),a.a.createElement(jn,{className:z,$cssVisible:w},!h&&a.a.createElement(En,{id:"content-editable",as:"div",renderElement:R,renderLeaf:D,placeholder:I("editor.elements.placeholder"),spellCheck:!1,onKeyDown:e=>dt(e,x)}),h&&a.a.createElement(gt,P)),N&&!h&&a.a.createElement("style",{dangerouslySetInnerHTML:{__html:`@layer stylesheets {${N}}`}}))}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dn(e){let t=e.set,r=e.stylesheets,o=e.initialHtmlValue,l=e.initialSlateValue,f=e.hasErrors,b=e.setHasErrors,p=e.warnErrors,m=e.setWarnErrors,y=e.nextRef;const g=Object(n.useRef)();g.current||(g.current=Object(s.i)(Object(d.b)(ke(Object(u.k)()))));const v=g.current,h=Object(n.useRef)(l),k=Object(n.useRef)(o),x=Nn(Object(n.useState)(!1),2),O=x[0],E=x[1],w=Nn(Object(n.useState)(),2),A=w[0],C=w[1],S=Nn(Object(n.useState)(!1),2),M=S[0],I=S[1],N=Nn(Object(n.useState)(o),2),R=N[0],D=N[1],P=Nn(Object(n.useState)(l),2),z=P[0],T=P[1];Object(n.useEffect)(()=>{if(!O&&!j()(h.current,l))return _(v),void u.j.insertNodes(v,l);j()(k.current,o)||D(o)},[l,o]);const $=Oe()(e=>t(Object(je.b)(e)),500),B=Oe()(e=>t(Object(je.a)(e)),500);return a.a.createElement(i.a,{className:"wide"},a.a.createElement(On,{className:f&&p?"error":void 0},a.a.createElement(c.ErrorBoundary,{fallbackRender:e=>{let t=e.resetErrorBoundary;return d.a.undo(v),t(),null}},a.a.createElement(ze.Provider,{value:{selectedCrumb:A,setSelectedCrumb:C,editingCrumb:M,setEditingCrumb:I}},a.a.createElement(s.c,{editor:v,value:z,onChange:e=>{var t,r,n;T(e);const a=null!==(t=null==v||null===(r=v.history)||void 0===r?void 0:r.undos)&&void 0!==t?t:[];(a.length>1||(null===(n=a[0])||void 0===n?void 0:n.selectionBefore))&&$(e)}},a.a.createElement(In,{localHtml:R,setLocalHtml:D,onChangeHtml:e=>{D(e),B(e)},localSlate:z,setLocalSlate:T,stylesheets:r,htmlMode:O,toggleHtmlMode:E,hasErrors:f,setHasErrors:b,warnErrors:p,setWarnErrors:m,nextRef:y}))))))}In.displayName="Global.Forms.ContentEditor.Editor",Dn.displayName="Global.Form.ContentEditor.Wrapper",Dn.propTypes={set:l.a.func,stylesheets:l.a.arrayOf(l.a.object),sectionId:l.a.string,sectionBody:l.a.string}}}]);
//# sourceMappingURL=chunk-11-bb3f53fcbc3d936a1f91.js.map