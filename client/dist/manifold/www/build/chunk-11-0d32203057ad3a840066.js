(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1086:function(e,t){window.ace.define("ace/theme/idle_fingers",["require","exports","module","ace/lib/dom"],(e,r,n)=>{(t=r).isDark=!0,t.cssClass="ace-idle-fingers",t.cssText="\n      .ace-idle-fingers .ace_gutter {\n        background: #3b3b3b;\n        color: rgb(153,153,153);\n      }\n\n      .ace-idle-fingers .ace_print-margin {\n        width: 1px;\n        background: #3b3b3b;\n      }\n\n      .ace-idle-fingers {\n        color: var(--color-base-neutral10);\n        border: 1px solid #555555;\n      }\n\n      .ace-idle-fingers .ace_cursor {\n        color: #91FF00;\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_selection {\n        background: rgba(90, 100, 126, 0.88);\n      }\n\n      .ace-idle-fingers.ace_multiselect .ace_selection.ace_start {\n        box-shadow: 0 0 3px 0px #323232;\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_step {\n        background: rgb(102, 82, 0);\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_bracket {\n        margin: -1px 0 0 -1px;\n        border: 1px solid #404040;\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_active-line {\n        background:  var(--color-base-neutral110);\n      }\n\n      .ace-idle-fingers .ace_gutter-active-line {\n        background-color: #353637\n      }\n\n      .ace-idle-fingers .ace_marker-layer .ace_selected-word {\n        border: 1px solid rgba(90, 100, 126, 0.88)\n      }\n\n      .ace-idle-fingers .ace_invisible {\n        color: var(--color-base-neutral40);\n      }\n\n      .ace-idle-fingers .ace_keyword,\n      .ace-idle-fingers .ace_meta {\n        color: var(--color-base-orange45);\n      }\n\n      .ace-idle-fingers .ace_constant,\n      .ace-idle-fingers .ace_constant.ace_character,\n      .ace-idle-fingers .ace_constant.ace_character.ace_escape,\n      .ace-idle-fingers .ace_constant.ace_other,\n      .ace-idle-fingers .ace_support.ace_constant {\n        color: var(--color-base-blue45);\n      }\n\n      .ace-idle-fingers .ace_invalid:not(.ace_invisible) {\n        color: var(--color-base-neutral40);\n        background: var(--color-base-red45);\n      }\n\n      .ace-idle-fingers .ace_fold {\n        background-color: #CC7833;\n        border-color: #FFFFFF;\n      }\n\n      .ace-idle-fingers .ace_support.ace_function {\n        color: #B83426;\n      }\n\n      .ace-idle-fingers .ace_variable.ace_parameter {\n        font-style: italic;\n      }\n\n      .ace-idle-fingers .ace_string {\n        color: var(--color-base-green20);\n      }\n\n      .ace-idle-fingers .ace_string.ace_regexp {\n        color: #CCCC33;\n      }\n\n      .ace-idle-fingers .ace_comment {\n        font-style: italic;\n        color: #BC9458;\n      }\n\n      .ace-idle-fingers .ace_meta.ace_tag {\n        color: var(--color-base-orange45);\n      }\n\n      .ace-idle-fingers .ace_entity.ace_name {\n        color: #FFC66D;\n      }\n\n      .ace-idle-fingers .ace_collab.ace_user1 {\n        color: #323232;\n        background-color: #FFF980;\n      }\n\n      .ace-idle-fingers .ace_indent-guide {\n        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMwMjLyZYiPj/8PAAreAwAI1g0AAAAAElFTkSuQmCC) right repeat-y\n      }\n    ";e("../lib/dom").importCssString(t.cssText,t.cssClass)})},1087:function(e,t){window.ace.define("ace/theme/kuroir",["require","exports","module","ace/lib/dom"],(e,r,n)=>{(t=r).isDark=!1,t.cssClass="ace-kuroir",t.cssText='\n      .ace-kuroir .ace_gutter {\n        background: var(--color-base-neutral30);\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_print-margin {\n        width: 1px;\n        background: #e8e8e8;\n      }\n\n      .ace-kuroir {\n        background-color: #E8E9E8;\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_cursor {\n        color: #202020;\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_selection {\n        background: var(--color-base-yellow20);\n      }\n\n      .ace-kuroir.ace_multiselect .ace_selection.ace_start {\n        box-shadow: 0 0 3px 0px #E8E9E8;\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_step {\n        background: rgb(198, 219, 174);\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_bracket {\n        margin: -1px 0 0 -1px;\n        border: 1px solid rgba(0, 0, 0, 0.29);\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_active-line {\n        background: var(--color-base-yellow45);\n      }\n\n      .ace-kuroir .ace_gutter-active-line {\n        background-color: rgba(245, 228, 37, .5);\n      }\n\n      .ace-kuroir .ace_marker-layer .ace_selected-word {\n        border: 1px solid rgba(245, 170, 0, 0.57);\n      }\n\n      .ace-kuroir .ace_invisible {\n        color: #BFBFBF\n      }\n\n      .ace-kuroir .ace_fold {\n        border-color: #363636;\n      }\n\n      .ace-kuroir .ace_constant {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_constant.ace_numeric {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_support {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_support.ace_type {\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_support.ace_function {\n        color: var(--color-base-neutral100);\n      }\n\n      .ace-kuroir .ace_support.ace_constant {\n        color: var(--color-base-blue75);\n      }\n\n      .ace-kuroir .ace_keyword {\n        color: var(--color-base-orange75);\n      }\n\n      .ace-kuroir .ace_storage {\n        color:#A52A2A;\n      }\n\n      .ace-kuroir .ace_invalid.ace_illegal {\n        color:#FD1224;\n        background-color:rgba(255, 6, 0, 0.15);\n      }\n\n      .ace-kuroir .ace_invalid.ace_deprecated {\n        text-decoration:underline;\n        font-style:italic;\n        color:#FD1732;\n        background-color:#E8E9E8;\n      }\n\n      .ace-kuroir .ace_string {\n        color: var(--color-base-green75);\n      }\n\n      .ace-kuroir .ace_string.ace_regexp {\n        color:#417E00;\n        background-color:#C9D4BE; }\n\n      .ace-kuroir .ace_comment {\n        color:rgba(148, 148, 148, 0.91);\n        background-color:rgba(220, 220, 220, 0.56);\n      }\n\n      .ace-kuroir .ace_variable {\n        color: var(--color-text-neutral100);\n      }\n\n      .ace-kuroir .ace_meta.ace_tag {\n        color: var(--color-base-orange75);\n      }\n\n      .ace-kuroir .ace_markup.ace_heading {\n        color:#B8012D;\n        background-color:rgba(191, 97, 51, 0.051);\n      }\n\n      .ace-kuroir .ace_markup.ace_list {\n        color:#8F5B26;\n      }\n\n      .ace-kuroir .ace_indent-guide {\n          background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n      }\n\n      .ace-kuroir .ace_indent-guide-active {\n        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n      }\n    ';e("../lib/dom").importCssString(t.cssText,t.cssClass)})},1839:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Tn}));var n=r(0),a=r.n(n),o=r(1),l=r.n(o),i=r(131),c=r(206),s=r(960),u=r(118),d=r(1263),f=r(436),b=r(104);const p=e=>{u.j.unwrapNodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"a"===e.type}),s.b.focus(e)},m=(e,t,r)=>{const n=(null!=e?e:{}).selection;if(!n)return;const a=n&&u.g.isCollapsed(n),o={type:"a",htmlAttrs:{href:t},children:a?[{text:null!=r?r:t}]:[]};a?u.j.insertNodes(e,o):(u.j.wrapNodes(e,o,{split:!0}),u.j.collapse(e,{edge:"end"})),s.b.focus(e)};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const v=(e,t,r)=>{const n={type:"img",htmlAttrs:{src:t,alt:null!=r?r:""},children:[{text:"",slateOnly:!0}]},a=y(u.a.above(e,e.selection),1)[0];u.a.isEmpty(e,a)&&u.j.removeNodes(e),u.j.insertNodes(e,n),s.b.focus(e)};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const x=(e,t,r)=>{const n=/api\/proxy\//.test(t)?"video":"iframe",a={type:n,htmlAttrs:{src:t,title:r,controls:"video"===n?"":void 0},children:[{text:"",slateOnly:!0}]},o=h(u.a.above(e,e.selection),1)[0];u.a.isEmpty(e,o)&&u.j.removeNodes(e),u.j.insertNodes(e,a),s.b.focus(e)};var O=r(83),j=r.n(O),E=r(23),w=r.n(E);const A=["ol","ul"],C=e=>{let t=e.editor,r=e.format,n=e.node,a=e.path,o=e.split,l=void 0!==o&&o;if(n&&w()(n,"text")&&"li"===u.c.parent(t,a).type)return(e=>{let t=e.editor,r=e.node,n=e.path,a=e.format;const o=t.selection,l=o.anchor,i=o.focus,c=r.text.substring(0,l.offset),s=r.text.substring(l.offset,i.offset),d=r.text.substring(i.offset),f=[...c&&[{type:"list-sibling",slateOnly:!0,children:[{text:c}]}],{type:a,children:[{text:s}]},...d&&[{type:"list-sibling",slateOnly:!0,children:[{text:d}]}]];u.j.insertNodes(t,f,{at:n})})({editor:t,node:n,path:a,format:r});const i=n&&w()(n,"text")?u.c.parent(t,a):n;"pre"===i.type&&u.a.removeMark(t,"code",!0);const c=A.includes(r)?"li":r;if(u.j.unwrapNodes(t,{match:(e,t)=>!u.a.isEditor(e)&&u.b.isElement(e)&&A.includes(e.type)&&j()(t,a),split:!0}),i.slateOnly||r!==i.type){var d,f;const e=null!==(d=i.htmlAttrs)&&void 0!==d&&d.class?{class:null===(f=i.htmlAttrs)||void 0===f?void 0:f.class}:void 0;return u.a.withoutNormalizing(t,()=>{u.j.setNodes(t,{type:c,slateOnly:void 0,htmlAttrs:"li"!==c?e:void 0},{split:l}),"li"===c&&u.j.wrapNodes(t,{type:r,htmlAttrs:e,children:[]}),"pre"===r&&u.a.addMark(t,"code",!0),s.b.focus(t)})}u.j.setNodes(t,{type:"p",slateOnly:void 0},{split:l}),s.b.focus(t)},_=e=>{[...Array(e.children.length).keys()].forEach(()=>{try{u.j.removeNodes(e,{at:[0]})}catch(e){return e}})},S=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;u.j.select(e,{anchor:{path:t,offset:r},focus:{path:t,offset:r}})},M=e=>{var t;let r="void"===e.type?e.nodeName:e.type;const n=(null!=e?e:{}).htmlAttrs;return null!=n&&n.id&&(r=`${r}#${n.id}`),null!=n&&n.class&&(r=`${r}.${null===(t=n.class)||void 0===t?void 0:t.replaceAll(" ",".")}`),r};function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const R=(e,t)=>{var r;return null!==(r=u.a.above(e,{at:t,match:e=>"li"===e.type}))&&void 0!==r?r:[]},D=(e,t)=>{var r;return null!==(r=u.a.above(e,{at:t,match:e=>"ul"===e.type||"ol"===e.type}))&&void 0!==r?r:[]},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;const r=u.a.unhangRange(e,e.selection,{voids:!0}),n=u.c.common(e,r.anchor.path,r.focus.path),a=I(n,2),o=a[0],l=a[1];return(u.a.isBlock(e,o)||u.a.isEditor(o))&&t(o)?[o,l]:u.a.above(e,{at:l,match:r=>(u.a.isBlock(e,r)||u.a.isEditor(r))&&t(r)})},z=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=t.next(),a=n.value;if(!a)return r;const o=I(a,2),l=o[0],i=o[1],c=s.b.findKey(e,l),u=l.type&&!l.slateOnly?{...r,[c.id]:{label:M(l),path:i}}:r;return z(e,t,u)},T=(e,t)=>{const r=e.selection;if(!r)return[!1];const n=u.a.above(e,{at:u.a.unhangRange(e,r),match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&!e.nodeName&&!e.slateOnly&&e.type===t}),a=I(null!=n?n:[],2),o=a[0],l=a[1];return n?[o.type===t,l]:[!1]},$=(e,t)=>{const r=e.selection;if(!r)return[!1];const n=u.a.above(e,{at:u.a.unhangRange(e,r),match:r=>!u.a.isEditor(r)&&u.a.isBlock(e,r)&&!r.nodeName&&!r.slateOnly&&r.type===t}),a=I(null!=n?n:[],2),o=a[0],l=a[1];return n?[(null==o?void 0:o.type)===t,l]:[!1]},B=(e,t)=>{if(!e.selection)return!1;const r=!!u.c.get(e,e.selection.focus.path).text&&u.a.marks(e);if("code"===t){var n;if(I(null!==(n=u.a.above(e,{match:e=>"pre"===e.type}))&&void 0!==n?n:[],1)[0])return!1}return!!r&&!0===r[t]},U=e=>!!I(u.a.nodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"a"===e.type}),1)[0],L=(e,t)=>{const r=1===t.children.length&&w()(t.children[0],"text");return u.a.isEmpty(e,t)&&(r||!t.children.length)};function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const H=e=>{let t=e.editor,r=e.format,n=e.path;if("span"===r)return(e=>{let t=e.editor,r=e.path;const n=u.e.parent(r),a=F(u.a.node(t,{at:n}),1)[0];if(u.a.hasBlocks(t,a))return u.a.withoutNormalizing(t,()=>{u.j.wrapNodes(t,{type:"div",slateOnly:!0},{at:r,match:(e,t)=>"span"===e.type&&j()(t,r)}),u.j.removeNodes(t,{match:(e,t)=>w()(e,"text")&&!e.text&&j()(t,u.e.next(r)),at:n}),u.j.liftNodes(t,{match:(e,t)=>"div"===e.type&&j()(t,r),at:r});const e=u.c.get(t,n);L(t,e)&&u.j.removeNodes(t,{at:u.e.parent(n),match:t=>j()(t,e)}),s.b.focus(t)})})({editor:t,path:n});u.j.liftNodes(t,{match:(e,t)=>e.type===r&&j()(t,n),at:n}),s.b.focus(t)},K=(e,t)=>{const r=u.g.isCollapsed(e.selection);if("span"===t)return((e,t)=>{t?u.j.insertNodes(e,{type:"span",children:[{text:""}]},{at:e.selection.anchor,select:!0}):u.j.wrapNodes(e,{type:"span",children:[]},{split:!0}),s.b.focus(e)})(e,r);const n=b.d.includes(t),a=!n,o=W(P(e,n?e=>!u.a.isEditor(e)&&!e.nodeName&&!e.text:e=>!u.a.isEditor(e)&&!e.nodeName),2),l=o[0],i=o[1];return a?C({editor:e,format:t,node:l,path:i,split:!r}):(e=>{let t=e.editor,r=e.format,n=e.node,a=e.path;if(e.split)return u.j.wrapNodes(t,{type:r},{split:!0});const o=n&&w()(n,"text")?u.c.parent(t,a):n,l=s.b.findPath(t,o);u.j.removeNodes(t),b.f.includes(o.type)?u.j.insertNodes(t,{type:r,children:[o]},{at:l,select:!0}):u.j.insertNodes(t,{...o,children:[{type:r,children:o.children}]},{at:l,select:!0}),s.b.focus(t)})({editor:e,format:t,node:l,path:i,split:!r})},Y=(e,t)=>{B(e,t)?u.a.removeMark(e,t):u.a.addMark(e,t,!0),s.b.focus(e)},G=(e,t)=>{const r=u.c.get(e,t);if(1===t.length&&0===t[0])return;if(L(e,r))return u.j.removeNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&j()(n,t)});if(u.a.isInline(e,r))return u.j.unwrapNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&j()(n,t)});if("ol"===r.type||"ul"===r.type)return r.children.forEach(t=>{const r=s.b.findPath(e,t);u.j.setNodes(e,{type:"p",slateOnly:void 0},{at:r,mode:"highest"}),t.children&&t.children.forEach(t=>{if("ol"===t.type||"ul"===t.type){const r=s.b.findPath(e,t);return u.j.unwrapNodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"p"===e.type,at:r,mode:"lowest"})}})}),u.j.unwrapNodes(e,{match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&j()(n,t),at:t});const n=u.a.hasBlocks(e,r);if("pre"===r.type&&r.children[0].code&&u.j.setNodes(e,{...r.children[0],code:void 0},{at:[...t,0],mode:"highest"}),n)return u.j.unwrapNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&!e.slateOnly&&j()(n,t)});n||u.a.withoutNormalizing(e,()=>{let n=0;r.children.forEach(r=>{w()(r,"text")&&!u.c.string(r)?u.j.removeNodes(e,{at:[...t,n]}):(u.j.wrapNodes(e,{type:"div",slateOnly:!0},{at:[...t,n]}),n+=1)}),u.j.unwrapNodes(e,{at:t,match:(e,n)=>!u.a.isEditor(e)&&u.b.isElement(e)&&e.type===r.type&&!e.slateOnly&&j()(n,t)})})};var Z=r(288),Q=r(108);var J=e=>{const t=e.insertText,r=e.isInline;return e.isInline=e=>{var t;return"math"===e.type&&"inline"===(null===(t=e.htmlAttrs)||void 0===t?void 0:t.display)||"math"!==e.type&&Q.f.includes(e.type)||b.b.includes(e.type)||r(e)},e.insertText=r=>{const n=Object(Z.b)(r),a=Object(Z.d)(r),o=Object(Z.c)(r);return n?v(e,r):a?x(e,r):o?m(e,r):void t(r)},e};function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var te=e=>{const t=e.insertData;return e.insertData=r=>{const n=r.getData("text/plain"),a=r.files,o=null==a?void 0:a.item(0);if(o){const t=new FileReader;if("image"===X(o.type.split("/"),1)[0])return t.addEventListener("load",()=>{const r=t.result;v(e,r)}),void t.readAsDataURL(o)}Object(Z.b)(n)?v(e,n):t(r)},e};function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ae={"*":"ul","-":"ul","+":"ul","1.":"ol",">":"blockquote","#":"h1","##":"h2","###":"h3","####":"h4","#####":"h5","######":"h6","```":"pre"},oe={"*":"italic","**":"bold","`":"code","~":"strikethrough"};var le=e=>{const t=e.insertText;return e.insertText=r=>{const n=e.selection,a=n.anchor;if(r.endsWith(" ")&&n&&u.g.isCollapsed(n)){var o;const t=re(null!==(o=u.a.above(e,{match:t=>u.b.isElement(t)&&u.a.isBlock(e,t)}))&&void 0!==o?o:[],2),n=(t[0],t[1]),l={anchor:a,focus:u.a.start(e,n)},i=ae[u.a.string(e,l)+r.slice(0,-1)];if(i)return u.j.select(e,l),u.g.isCollapsed(l)||u.j.delete(e),K(e,i)}let l;if(["*","`","~"].includes(r)){const n=re(u.a.first(e,a.path),2),o=n[0],i=n[1],c=u.c.string(o);if("~"===r&&(l="~"),"`"===r&&(l="`"),"*"===r&&(c.endsWith("*")&&(l="**"),-1===c.indexOf("**")&&(l="*")),l){const n=c.indexOf(l),a=l.length-1>0?-(l.length-1):void 0,o=c.slice(n+l.length,a);if("`"===l&&"`"===o)return t(r);if(n>=0&&o){const t={path:i,offset:n},r={path:i,offset:c.length};return u.a.withoutNormalizing(e,()=>{u.j.select(e,{anchor:t,focus:r}),u.a.addMark(e,oe[l],!0),u.j.delete(e,{at:t,distance:l.length,unit:"character"}),u.j.collapse(e,{edge:"end"}),l.length>1&&u.j.delete(e,{distance:l.length-1,unit:"character",reverse:!0})})}}}return t(r)},e};function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const se=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const a=t.next(),o=a.value;if(!o)return{textContent:n,lastPath:r};const l=ie(o,2),i=l[0],c=l[1];if("list-sibling"===i.type)return se(e,u.c.children(e,c),c);const s=w()(i,"text"),d=s?i.text:n,f=s?c:r;return se(e,t,f,d)},ue=(e,t)=>{const r=u.c.children(e,t),n=se(e,r,t),a=n.textContent;return{path:n.lastPath,offset:a.length}},de=e=>{let t=e.editor,r=e.srcPath,n=e.destPath,a=e.node,o=e.type;const l=Array.isArray(a)?a:[a];u.j.removeNodes(t,{at:r}),u.j.insertNodes(t,[{type:o,children:l}],{at:n})},fe=e=>{let t=e.editor,r=e.srcPath,n=e.destPath,a=e.unwrap,o=void 0===a||a;if(n&&u.j.moveNodes(t,{at:r,to:n}),o){const e=null!=n?n:r;u.j.unwrapNodes(t,{at:e})}},be=e=>{let t=e.editor,r=e.at,n=e.nodes;return n?u.j.insertNodes(t,[{type:"list-sibling",slateOnly:!0,children:n}],{at:r}):u.j.unwrapNodes(t,{at:r,match:e=>"list-sibling"===e.type})},pe=e=>{const t=e.next().value;if(!t)return[];const r=ie(t,2),n=r[0],a=r[1];return"ul"===n.type||"ol"===n.type?[n,a]:pe(e)},me=e=>{let t=e.editor,r=e.canUnwrapRoot;const n=ie(R(t,t.selection),2),a=n[0],o=n[1],l=ie(R(t,o),2),i=l[0],c=l[1],s=ie(D(t,o),2),d=s[0],f=s[1],p=u.c.parent(t,f),m="ul"===(null==p?void 0:p.type)||"ol"===(null==p?void 0:p.type);if(!a)return;if(!(d&&m||i)){const e=b.f.includes(null==p?void 0:p.type)?p.type:"p";return r?(u.j.setNodes(t,{type:e},{at:o}),H({editor:t,format:e,path:o})):null}const y=u.a.start(t,o),g=u.a.start(t,f);if(u.f.equals(y,g))return u.a.withoutNormalizing(t,()=>{if(m)return fe({editor:t,srcPath:f});const e=[...c].pop()+1,r=[...c.slice(0,-1),e];fe({editor:t,srcPath:f,destPath:r}),be({editor:t,at:[...r.slice(0,-1),0]})});i&&u.a.withoutNormalizing(t,()=>{const e=[...c].pop()+1,r=[...c.slice(0,-1),e];fe({editor:t,srcPath:o,destPath:r,unwrap:!1})})},ye=["children","htmlAttrs","slateOnly","inline","nodeName","srcdoc","htmlChildren"];function ge(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ke=e=>{const t=e.insertBreak,r=e.deleteBackward;e.insertBreak=()=>{const r=e.selection,n=r&&u.g.isCollapsed(r);n||u.j.delete(e);const a=ve(u.a.above(e,r),2),o=(a[0],a[1],ve(u.a.above(e,{at:r,match:t=>u.a.isBlock(e,t)&&!t.slateOnly}),2)),l=o[0],i=(o[1],l.children,l.htmlAttrs),c=(l.slateOnly,l.inline,l.nodeName,l.srcdoc,l.htmlChildren,ge(l,ye));if(b.f.includes(c.type)||b.d.includes(c.type)||(c.type="p"),"a"!==c.type&&"img"!==c.type&&"iframe"!==c.type&&"video"!==c.type||(c.type="p"),"li"===c.type){const t=u.a.isEmpty(e,l);if(n&&t)return me({editor:e,canUnwrapRoot:!0});c.htmlAttrs=null!=i&&i.class?{class:null==i?void 0:i.class}:{}}try{u.a.withoutNormalizing(e,()=>{u.j.insertNodes(e,{...c,children:[{text:""}]},{at:r,select:!0})})}catch(e){t()}};const n=(t,r)=>{const a=e.selection,o=u.a.start(e,r),l=u.c.string(t);if(u.f.isBefore(o,a.anchor)&&l.length<=1){var i;u.j.unwrapNodes(e,{at:r,match:t=>u.a.isInline(e,t)});const t=ve(null!==(i=u.a.above(e,{match:t=>t.type&&u.a.isInline(e,t)}))&&void 0!==i?i:[],2),a=t[0],o=t[1];if(a)return n(a,o)}},a=(t,r)=>{const n=e.selection,a=u.a.start(e,r);!u.a.isEditor(t)&&t.slateOnly&&u.f.equals(n.anchor,a)&&u.j.unwrapNodes(e,{at:r,match:e=>e.slateOnly})};return e.deleteBackward=function(){const t=e.selection;if(t&&u.g.isCollapsed(t)){var o,l;const r=ve(R(e,e.selection),1)[0];if(r){if(u.a.isEmpty(e,r))return me({editor:e,canUnwrapRoot:!0})}const i=ve(null!==(o=u.a.above(e,{match:t=>t.type&&u.a.isInline(e,t)}))&&void 0!==o?o:[],2),c=i[0],s=i[1];c&&n(c,s);const d=ve(null!==(l=u.a.above(e,{match:t=>u.b.isElement(t)&&u.a.isBlock(e,t)}))&&void 0!==l?l:[],2),f=d[0],b=d[1];a(f,b);const p=ve(f.slateOnly?u.a.above(e,{match:t=>u.b.isElement(t)&&u.a.isBlock(e,t)}):[f,b],2),m=p[0],y=p[1];if(m){const r=u.a.start(e,y);if(!u.a.isEditor(m)&&u.b.isElement(m)&&"p"!==m.type&&u.f.equals(t.anchor,r))return u.j.setNodes(e,{type:"p"},{at:y,select:!0}),void("li"===m.type&&u.j.unwrapNodes(e,{match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&("ul"===e.type||"ol"===e.type),split:!0}))}}r(...arguments)},e};var xe=e=>J(ke(le(Object(f.a)(te(e))))),Oe=r(154),je=r.n(Oe),Ee=r(439),we=r(6),Ae=r.n(we),Ce=r(415);const _e=Object(n.createContext)([]),Se=()=>Object(n.useContext)(_e);var Me=r(12),Ie=r(90),Ne=r.n(Ie),Re=r(3),De=r(2);const Pe=Object(Re.a)("div",{target:"eiv2b1014"})("display:none;flex-direction:column;align-items:center;gap:8px;position:absolute;top:5px;right:auto;left:5px;color:var(--color-accent-primary);",e=>e.$visible&&"display: flex;"," ",Object(De.V)("right: -60px; left: auto; top: -5px;",65),";"),ze=Object(Re.a)("button",{target:"eiv2b1013"})(De.f," width:34px;height:34px;display:flex;justify-content:center;align-items:center;color:var(--color-neutral-text-light);background:var(--color-base-neutral90);border-radius:4px;border:1px solid var(--color);&:hover{color:",e=>"red"===e.$color?"var(--color-notification-error-light)":"var(--color-accent-primary)",";border-color:",e=>"red"===e.$color?"var(--color-notification-error-light)":"var(--color-accent-primary)",";}"),Te=Object(Re.a)("img",{target:"eiv2b1012"})("display:inline;",e=>e.$selected&&De.k+" outline-offset: 1px;",";"),$e=Object(Re.a)("span",{target:"eiv2b1011"})({name:"arhcr6",styles:"display:inline-block;width:max-content;max-width:100%;position:relative;&.responsive-iframe{display:block;width:100%;overflow:visible;}"}),Be=Object(Re.a)("div",{target:"eiv2b1010"})({name:"68fpf9",styles:"&+&{margin-block-start:20px;}"}),Ue=Object(Re.a)("div",{target:"eiv2b109"})("display:block;margin-inline-start:-5%;width:110%;padding-inline:8%;padding-block-end:20px;padding-block-start:20px;position:relative;background-color:var(--drawer-bg-color);box-shadow:3px 3px 10px var(--color-base-neutral100);border-radius:4px;border:0;.scheme-light &{background-color:var(--color-base-neutral20);box-shadow:3px 3px 10px var(--color-base-neutral30);}",e=>e.$selected&&"outline: solid 2px var(--disabled-control-color); outline-offset: 1px;",";"),Le=Object(Re.a)("span",{target:"eiv2b108"})(De.C," font-size:14px;color:var(--color-base-yellow20);display:inline-flex;gap:6px;align-items:center;.scheme-light &{color:var(--color-base-violet75);}>svg{margin-top:1px;}"),Fe=Object(Re.a)("span",{target:"eiv2b107"})({name:"1tu05zb",styles:"display:inline-flex;width:100%"}),Ve=Object(Re.a)("span",{target:"eiv2b106"})({name:"lr7qmu",styles:"flex-grow:1;margin:0;width:100%"}),We={green:{light:"var(--color-interaction-dark)",dark:"var(--color-accent-primary)"},blue:{light:"var(--color-base-blue75)",dark:"var(--color-base-blue45)"},violet:{dark:"var(--color-base-violet45)",light:"var(--color-base-violet75)"}},qe=Object(Re.a)("span",{target:"eiv2b105"})("position:absolute;display:inline-block;left:-8px;top:-26px;font-size:14px;line-height:1;padding:2px;border-top-right-radius:2px;border-top-left-radius:2px;font-family:var(--font-family-heading);font-weight:var(--font-weight-regular);border:0px solid;border-bottom:0;white-space:nowrap;text-indent:0;z-index:10;padding-inline:4px;padding-block-start:2px;padding-block-end:4px;text-decoration:none;text-transform:none;font-variant:none;.scheme-dark &{background:",e=>{let t=e.$color;return We[t].dark},";color:var(--drawer-bg-color);}.scheme-light &{background:",e=>{let t=e.$color;return We[t].light},";color:var(--background-color);}&:hover{z-index:20;}"),He=Object(Re.a)(qe,{target:"eiv2b104"})({name:"l1gojm",styles:"top:-35px;padding-block-start:4px;display:flex;align-items:center;>span{line-height:1;}"}),Ke=Object(Re.a)("input",{target:"eiv2b103"})({name:"e25hrh",styles:"appearance:none;background:rgba(255, 255, 255, 0.75);border:none;padding:0;height:18px;margin-inline-start:3px;width:150px;.scheme-light &{background:rgba(0, 0, 0, 0.5);}&:focus-visible{outline:1px solid;}"}),Ye=Object(Re.a)("div",{target:"eiv2b102"})({name:"1do1th2",styles:"display:flex;gap:4px;margin-inline-start:8px;margin-inline-end:4px"}),Ge=Object(Re.a)("button",{target:"eiv2b101"})(De.f," display:flex;align-items:center;border-radius:2px;padding:2px;&:hover,&:focus-visible{color:var(--error-color);background:var(--background-color);}&:disabled{cursor:default;&:hover{background:none;color:inherit;}}"),Ze=Object(Re.a)(Ge,{target:"eiv2b100"})({name:"14tjs2j",styles:"&:hover,&:focus-visible{color:var(--hover-color);background:var(--background-color);}"}),Qe=(e,t)=>{const r=b.f.includes(e)?"green":b.b.includes(e)||b.c.includes(e)?"blue":"violet";return{outline:"2px dotted",outlineColor:t?We[r].dark:We[r].light,borderRadius:"2px",borderTopLeftRadius:0,outlineOffset:"6px",position:"relative"}};function Je(e){var t,r,o;let l=e.visible,i=e.element;const c=Object(s.h)(),d=Object(n.useRef)(null),f=Object(Ce.a)().t,p=Se().editingCrumb;if(Object(n.useEffect)(()=>{d.current&&p&&d.current.focus()},[p]),!l)return null;const m=b.f.includes(i.type)?"green":b.b.includes(i.type)||b.c.includes(i.type)?"blue":"violet",y=b.c.includes(i.type)?[]:s.b.findPath(c,i),g=1===y.length||"li"===i.type&&!u.a.isEmpty(c,i),v=y.length<=2||"li"===i.type,h=null!==(t=i.htmlAttrs)&&void 0!==t&&t.id?`${i.type}#${i.htmlAttrs.id}`:i.type,k=null===(r=i.htmlAttrs)||void 0===r||null===(o=r.class)||void 0===o?void 0:o.trim().replaceAll(" ",".");return p?a.a.createElement(He,{contentEditable:!1,$color:m},a.a.createElement("span",null,h,"."),a.a.createElement(Ke,{ref:d,defaultValue:k,onChange:e=>(e=>{e.persist();Ne()(()=>{u.j.setNodes(c,{...i,htmlAttrs:{...i.htmlAttrs,class:e.target.value.replaceAll("."," ").trim()}},{at:y,mode:"highest"})},1e3)(e)})(e)}),a.a.createElement(Ye,null,a.a.createElement(Ze,{onClick:e=>{e.preventDefault(),H({editor:c,format:i.type,path:y})},"aria-label":f("editor.controls.labels.lift"),disabled:v},a.a.createElement(Me.a,{icon:"arrowUp16",size:16})),a.a.createElement(Ge,{onClick:e=>{e.preventDefault(),G(c,y)},"aria-label":f("actions.delete"),disabled:g},a.a.createElement(Me.a,{icon:"delete24",size:16})))):a.a.createElement(qe,{$color:m},M(i))}function Xe(e){let t=e.attributes,r=e.children,n=e.leaf,o=e.darkMode;const l="all"===Se().selectedCrumb;let i=r;return n.bold&&(i=a.a.createElement("strong",{style:l?Qe("strong",o):void 0},i,a.a.createElement(Je,{element:{type:"strong"},visible:l}))),n.italic&&(i=a.a.createElement("em",{style:l?Qe("em",o):void 0},i,a.a.createElement(Je,{element:{type:"em"},visible:l}))),n.underline&&(i=a.a.createElement("u",{style:l?Qe("u",o):void 0},i,a.a.createElement(Je,{element:{type:"u"},visible:l}))),n.strikethrough&&(i=a.a.createElement("s",{style:l?Qe("s",o):void 0},i,a.a.createElement(Je,{element:{type:"s"},visible:l}))),n.code&&(i=a.a.createElement("code",{style:l?Qe("code",o):void 0},i,a.a.createElement(Je,{element:{type:"code"},visible:l}))),a.a.createElement("span",t,i)}var et=r(13);function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const nt=e=>{e&&e.preventDefault();const t=document.getElementsByName("img-modal-trigger");t[0]&&t[0].click()},at=e=>{e&&e.preventDefault();const t=document.getElementsByName("iframe-modal-trigger");t[0]&&t[0].click()};function ot(){return(ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lt(e){var t;let r=e.element,n=e.children,o=e.attributes,l=e.as,i=e.showHtml,c=e.darkMode;const d=Object(s.h)(),f=Object(s.d)(),b=Object(s.e)(),p=s.b.findPath(d,r),m=Ae()({"responsive-iframe":"iframe"===l||"video"===l}),y=(null!=r?r:{}).htmlAttrs,g=null!==(t=null==y?void 0:y.class)&&void 0!==t?t:void 0,v=(null==y?void 0:y["data-epub-type"])||void 0;return a.a.createElement("div",ot({className:null!=y&&y.inline?"inline-block":void 0},o,{style:i?Qe("a",c):void 0}),n,a.a.createElement("span",{contentEditable:!1},a.a.createElement($e,{className:m,"data-epub-type":v},a.a.createElement(Te,{as:null!=l?l:"img",src:y.src,alt:l?void 0:y.alt,title:l?y.title:void 0,controls:"video"===l||void 0,$selected:b&&f,className:g,width:null==y?void 0:y.width,height:null==y?void 0:y.height}),a.a.createElement(Pe,{$visible:b},a.a.createElement(ze,{onClick:"iframe"===l||"video"===l?at:nt},a.a.createElement(et.a.IconComposer,{icon:"annotate24",size:24})),a.a.createElement(ze,{$color:"red",onClick:e=>(e.preventDefault(),u.a.withoutNormalizing(d,()=>{u.j.removeNodes(d,{at:p}),u.j.insertNodes(d,{type:"p",children:[{text:""}]},{select:!0})}))},a.a.createElement(et.a.IconComposer,{icon:"delete24",size:24}))))),a.a.createElement(Je,{element:r,visible:i}))}function it(e){let t=e.element,r=e.children,o=e.attributes,l=e.theme,i=e.darkMode,c=e.showHtml;const u=Object(s.d)(),d=Object(s.e)(),f=(null!=t?t:{}).srcdoc,b=Object(n.useRef)();return Object(n.useEffect)(()=>{var e;if(b.current&&!b.current.shadowRoot){const e=b.current.attachShadow({mode:"open"}),t=document.createElement("div"),r="manifold-text-section "+(i?"scheme-dark":"scheme-light");t.setAttribute("class",r);const n=document.createElement("style");n.textContent=l,e.appendChild(n),t.innerHTML=f,e.appendChild(t)}if(null!==(e=b.current)&&void 0!==e&&e.shadowRoot){const e=b.current.shadowRoot.childNodes[1],t="manifold-text-section "+(i?"scheme-dark":"scheme-light");e.setAttribute("class",t)}},[f,l,i]),a.a.createElement(Be,o,r,a.a.createElement(Ue,{contentEditable:!1,$selected:d&&u,style:c?Qe("div",i):void 0},a.a.createElement(Le,null,a.a.createElement(et.a.IconComposer,{svgProps:{style:{flexShrink:0}},icon:"code24"}),a.a.createElement("span",null,"Preview only. Switch to HTML mode to edit this block:")),a.a.createElement("div",{ref:b}),a.a.createElement(Je,{element:t,visible:c})))}function ct(){return(ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function st(e){var t,r;let n=e.attributes,o=e.children,l=e.element,i=e.theme,c=e.darkMode;const u=(null===(t=l.htmlAttrs)||void 0===t?void 0:t.class)||void 0,d=(null===(r=l.htmlAttrs)||void 0===r?void 0:r["data-epub-type"])||void 0,f=Object(s.h)(),p=s.b.findKey(f,l).id,m=Se().selectedCrumb,y=(m===p||"all"===m)&&!l.slateOnly;if("br"===l.type)return a.a.createElement("p",ct({},n,{style:y?Qe("p",c):void 0}),o,a.a.createElement(Je,{element:l,visible:y}));if("hr"===l.type)return a.a.createElement(Fe,ct({contentEditable:!1},n),o,a.a.createElement(Ve,null,a.a.createElement("hr",{className:u,"data-epub-type":d,style:y?Qe("hr",c):void 0})),a.a.createElement(Je,{element:l,visible:y}));if("void"===l.type)return a.a.createElement(it,{attributes:n,element:l,theme:i,darkMode:c,showHtml:y},o);if("img"===l.type)return a.a.createElement(lt,{attributes:n,element:l,showHtml:y,darkMode:c},o);if("iframe"===l.type||"video"===l.type)return a.a.createElement(lt,{as:l.type,attributes:n,element:l,showHtml:y,darkMode:c},o);var g;if("a"===l.type)return a.a.createElement("a",ct({className:u,"data-epub-type":d,href:null===(g=l.htmlAttrs)||void 0===g?void 0:g.href},n,{style:y?Qe("a",c):void 0}),o,a.a.createElement(Je,{element:l,visible:y}));if("pre"===l.type)return a.a.createElement("pre",ct({className:u,"data-epub-type":d},n,{style:y?Qe("pre",c):void 0}),a.a.createElement("code",null,o),a.a.createElement(Je,{element:l,visible:y}));if("div"===l.type&&l.inline)return a.a.createElement("div",ct({className:Ae()("inline-block",u),"data-epub-type":d},n),o);if(b.f.includes(l.type)||b.e.includes(l.type)||b.c.includes(l.type)||b.d.includes(l.type)||"span"===l.type){const e="list-sibling"===l.type?"span":l.type;return a.a.createElement(e,ct({className:u,"data-epub-type":d},n,{style:y?Qe(e,c):void 0}),o,a.a.createElement(Je,{element:l,visible:y}))}return null}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ft=(e,t)=>{if("Enter"===e.key)return e.shiftKey?(e.preventDefault(),(e=>{u.j.insertText(e,"\n")})(t)):void 0;if("Tab"===e.key){if(!ut(R(t,t.selection),1)[0])return;return e.preventDefault(),e.shiftKey?me({editor:t}):(e=>{const t=ie(R(e,e.selection),2),r=t[0],n=t[1],a=ie(D(e,n),2),o=a[0],l=a[1];if(!r||!o)return;const i=o.type,c=[...n].pop(),s=u.a.start(e,n),d=u.a.start(e,l);if(u.f.equals(s,d))return u.a.withoutNormalizing(e,()=>{de({editor:e,srcPath:l,destPath:l,node:o,type:i});const t=ue(e,[...l,0,0]),r=t.path,n=t.offset;S(e,r,n)});const f=[...n.slice(0,-1),c-1],b=ie(u.a.node(e,f),1)[0];if(!b)return;const p=u.c.children(e,f),m=ie(pe(p),2),y=m[0],g=m[1];if(y)return u.j.moveNodes(e,{at:n,to:[...g,y.children.length]});u.a.withoutNormalizing(e,()=>{if(u.a.hasBlocks(e,b)){const t=[...f,b.children.length];de({editor:e,srcPath:n,destPath:t,node:r,type:i});const a=ue(e,[...t,0]),o=a.path,l=a.offset;return void S(e,o,l)}be({editor:e,at:[...f,0],nodes:b.children});const t=[...f,1];de({editor:e,srcPath:n,destPath:t,node:r,type:i});const a=ue(e,[...t,0]),o=a.path,l=a.offset;S(e,o,l)})})(t)}if(e.metaKey||e.ctrlKey){if(e.metaKey&&e.altKey||e.ctrlKey&&e.shiftKey)switch(e.keyCode){case 48:return e.preventDefault(),K(t,"p");case 49:return e.preventDefault(),K(t,"h1");case 50:return e.preventDefault(),K(t,"h2");case 51:return e.preventDefault(),K(t,"h3");case 52:return e.preventDefault(),K(t,"h4");case 53:return e.preventDefault(),K(t,"h5");case 54:return e.preventDefault(),K(t,"h6");case 55:return e.preventDefault(),K(t,"ol");case 56:return e.preventDefault(),K(t,"ul");case 57:return e.preventDefault(),K(t,"blockquote");case 69:return e.preventDefault(),K(t,"pre")}if(e.shiftKey&&"s"===e.key)return e.preventDefault(),Y(t,"strikethrough");switch(e.key){case"b":return e.preventDefault(),Y(t,"bold");case"i":return e.preventDefault(),Y(t,"italic");case"u":return e.preventDefault(),Y(t,"underline");case"e":return e.preventDefault(),Y(t,"code");case"k":return e.preventDefault(),(e=>{if(U(e))return p(e);const t=e.selection;if(!(t&&u.g.isCollapsed(t))){const t=tt(P(e),1)[0],r=u.c.string(t);if(Object(Z.c)(r))return m(e,r)}const r=document.getElementsByName("link-modal-trigger");r[0]&&r[0].click()})(t);case"g":return e.preventDefault(),nt();case"m":return e.preventDefault(),at()}}};var bt=r(1146),pt=r.n(bt);r(1152),r(1154),r(1156),r(1086),r(1087);const mt=["aceRef","nextRef","prevRef","darkMode"];function yt(){return(yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vt(e){const t=e.aceRef,r=e.nextRef,n=e.prevRef,o=e.darkMode,l=gt(e,mt);return a.a.createElement(pt.a,yt({ref:t,theme:o?"idle_fingers":"kuroir",editorProps:{$blockScrolling:!0},width:"100%",minLines:40,maxLines:1e4,wrapEnabled:!0,showPrintMargin:!1,onLoad:e=>{e.once("change",()=>{e.session.getUndoManager().reset()}),e.commands.removeCommand("find"),e.renderer.setPadding(24,24),e.renderer.setScrollMargin(24,24);e.textInput.getElement().addEventListener("keydown",e=>{if("ArrowDown"===e.key){document.querySelector(".top.pad-xl").scrollBy(0,16)}if("ArrowUp"===e.key){document.querySelector(".top.pad-xl").scrollBy(0,-16)}})},onFocus:()=>{t.current&&t.current.editor.gotoLine(0,0,!0)},editorOptions:{enableAutoIndent:!0},commands:[{name:"tab",bindKey:{win:"Tab",mac:"Tab"},exec:()=>{r.current.focus()}},{name:"shiftTab",bindKey:{win:"Shift+Tab",mac:"Shift+Tab"},exec:()=>{n.current.focus()}}]},l))}var ht=r(218);const kt=Object(Re.a)("div",{target:"e1e32g678"})({name:"7y2kgy",styles:"display:flex;flex-direction:column;gap:16px;align-items:center;padding:0 4px 8px 4px"}),xt=Object(Re.a)("span",{target:"e1e32g677"})(De.I," font-style:normal;font-weight:400;font-size:17px;color:var(--input-color);"),Ot=Object(Re.a)("div",{target:"e1e32g676"})({name:"1yz57yz",styles:"padding-block-end:6px;span{display:inline-block;}span+span{margin-block-start:12px;}"}),jt=Object(Re.a)("span",{target:"e1e32g675"})({name:"utdwfv",styles:"min-width:175px"}),Et=Object(Re.a)("div",{target:"e1e32g674"})(""),wt=Object(Re.a)("span",{target:"e1e32g673"})({name:"bk842r",styles:"whitespace:nowrap"}),At=Object(Re.a)("span",{target:"e1e32g672"})({name:"13cm0wy",styles:"whitespace:nowrap;font-style:normal;display:inline-block"}),Ct=Object(Re.a)("span",{target:"e1e32g671"})({name:"zdez4m",styles:"display:inline-flex;flex-wrap:nowrap;flex-shrink:0;justify-content:center;align-items:center;padding-block-start:6px;padding-block-end:10px;padding-inline:10px;background-color:var(--background-color);font-family:var(--font-family-sans);font-weight:var(--font-weight-semibold);border-radius:4px;font-style:normal;line-height:1"}),_t=Object(Re.a)("div",{target:"e1e32g670"})({name:"10z79ec",styles:"display:flex;gap:8px;flex-wrap:no-wrap;margin-block-start:8px;align-items:center"});function St(e){let t=e.label,r=e.description,o=e.hotkeys,l=void 0===o?[]:o;return a.a.createElement(kt,null,a.a.createElement(Ot,null,a.a.createElement(xt,null,t),r&&a.a.createElement(jt,null,r)),l.map(e=>a.a.createElement(Et,{key:e.label},a.a.createElement(wt,null,e.label),a.a.createElement(_t,null,e.keys.map((t,r)=>a.a.createElement(n.Fragment,{key:`${t}_${r}`},a.a.createElement(Ct,null,t),e.inline&&0===r&&a.a.createElement(At,null,"[text]")))))))}const Mt={p:[{label:"Mac",keys:["Cmd","Option","0"]},{label:"Windows",keys:["Ctrl","Shift","0"]}],h1:[{label:"Mac",keys:["Cmd","Option","1"]},{label:"Windows",keys:["Ctrl","Shift","1"]},{label:"Markdown",keys:["#","Space"]}],h2:[{label:"Mac",keys:["Cmd","Option","2"]},{label:"Windows",keys:["Ctrl","Shift","2"]},{label:"Markdown",keys:["##","Space"]}],h3:[{label:"Mac",keys:["Cmd","Option","3"]},{label:"Windows",keys:["Ctrl","Shift","3"]},{label:"Markdown",keys:["###","Space"]}],h4:[{label:"Mac",keys:["Cmd","Option","4"]},{label:"Windows",keys:["Ctrl","Shift","4"]},{label:"Markdown",keys:["####","Space"]}],h5:[{label:"Mac",keys:["Cmd","Option","5"]},{label:"Windows",keys:["Ctrl","Shift","5"]},{label:"Markdown",keys:["#####","Space"]}],h6:[{label:"Mac",keys:["Cmd","Option","6"]},{label:"Windows",keys:["Ctrl","Shift","6"]},{label:"Markdown",keys:["######","Space"]}],ol:[{label:"Mac",keys:["Cmd","Option","7"]},{label:"Windows",keys:["Ctrl","Shift","7"]},{label:"Markdown",keys:["1.","Space"]}],ul:[{label:"Mac",keys:["Cmd","Option","8"]},{label:"Windows",keys:["Ctrl","Shift","8"]},{label:"Markdown",keys:["-","Space"]}],blockquote:[{label:"Mac",keys:["Cmd","Option","9"]},{label:"Windows",keys:["Ctrl","Shift","9"]},{label:"Markdown",keys:[">","Space"]}],link:[{label:"Mac",keys:["Cmd","K"]},{label:"Windows",keys:["Ctrl","K"]}],pre:[{label:"Mac",keys:["Cmd","Option","E"]},{label:"Windows",keys:["Ctrl","Shift","E"]},{label:"Markdown",keys:["```","Space"]}],italic:[{label:"Mac",keys:["Cmd","I"]},{label:"Windows",keys:["Ctrl","I"]},{label:"Markdown",keys:["*","*"],inline:!0}],strikethrough:[{label:"Mac",keys:["Cmd","Shift","S"]},{label:"Windows",keys:["Ctrl","Shift","S"]},{label:"Markdown",keys:["~","~"],inline:!0}],bold:[{label:"Mac",keys:["Cmd","B"]},{label:"Windows",keys:["Ctrl","B"]},{label:"Markdown",keys:["**","**"],inline:!0}],underline:[{label:"Mac",keys:["Cmd","U"]},{label:"Windows",keys:["Ctrl","U"]}],code:[{label:"Mac",keys:["Cmd","E"]},{label:"Windows",keys:["Ctrl","E"]},{label:"Markdown",keys:["`","`"],inline:!0}],undo:[{label:"Mac",keys:["Cmd","Z"]},{label:"Windows",keys:["Ctrl","Z"]}],redo:[{label:"Mac",keys:["Cmd","Shift","Z"]},{label:"Windows",keys:["Ctrl","Y"]}],img:[{label:"Mac",keys:["Cmd","G"]},{label:"Windows",keys:["Ctrl","G"]}],iframe:[{label:"Mac",keys:["Cmd","M"]},{label:"Windows",keys:["Ctrl","M"]}]};const It=Object(Re.a)("button",{target:"e1xrm7ho7"})(De.f," display:inline-flex;align-items:center;justify-content:center;height:28px;width:28px;background-color:none;transition:color ",De.m,",background-color ",De.m,';font-family:var(--font-family-sans);font-weight:var(--font-weight-semibold);border-radius:4px;margin-inline-start:3px;&:hover{background-color:var(--background-color);color:inherit;}&[data-active="true"]{color:var(--drawer-bg-color);background-color:var(--color-accent-primary);}&:focus-visible,&:focus{',De.k,";}"),Nt=Object(Re.a)("div",{target:"e1xrm7ho6"})({name:"1j5vobt",styles:"display:flex;align-items:center;gap:4px"}),Rt=Object(Re.a)("div",{target:"e1xrm7ho5"})({name:"s15oq9",styles:"position:relative;width:max-content;margin-block-start:-3px;margin-inline-start:5px;cursor:pointer"}),Dt=Object(Re.a)("div",{target:"e1xrm7ho4"})({name:"1nrevy2",styles:"position:relative;display:inline-block"}),Pt=Object(Re.a)("select",{target:"e1xrm7ho3"})(De.f,' font-family:var(--font-family-sans);line-height:22px;font-size:14px;width:120px;height:28px;display:inline-block;border-radius:4px;padding-block-start:2px;padding-block-end:4px;padding-inline-start:8px;.backend &{color:var(--color);&[data-active="true"]{color:var(--drawer-bg-color);background-color:',e=>e.$color,";}&:hover{background-color:var(--background-color);color:var(--color);}}&:focus-visible,&:focus{",De.k,";}"),zt=Object(Re.a)(Pt,{target:"e1xrm7ho2"})('width:auto;padding-inline:8px;.backend &{&[data-active="true"]{color:var(--drawer-bg-color);background-color:var(--color-base-blue45);}&:hover{background-color:var(--background-color);color:var(--color);}}&:focus-visible,&:focus{',De.k,";}"),Tt=Object(Re.a)(Me.a,{target:"e1xrm7ho1"})({name:"a3x7ss",styles:'position:absolute;top:25%;right:4px;pointer-events:none;select[data-active="true"]:not(:hover)+&{color:var(--drawer-bg-color);}'}),$t=Object(Re.a)("button",{target:"e1xrm7ho0"})(De.f," ",De.C," padding-inline-start:12px;padding-inline-end:16px;padding-block:6px;background-color:var(--box-bg-color);border-radius:4px;display:inline-flex;justify-content:center;align-items:center;gap:12px;margin-inline-start:auto;svg{margin-top:3px;}&:hover{background-color:var(--color-accent-primary);color:var(--box-bg-color);}"),Bt=["format","icon","size"];function Ut(){return(Ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Wt=(e,t)=>{let r=e.format,n=e.icon,o=e.size,l=Vt(e,Bt);const i=Object(s.f)(),c=(null!=i?i:{}).selection,d=Object(Ce.a)().t,f=Lt(T(i,r),1)[0];return a.a.createElement(ht.a,{content:a.a.createElement(St,{label:d("editor.tooltips.labels."+r),hotkeys:Mt[r]}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(It,Ut({ref:t},l,{"aria-label":d("editor.controls.labels.format",{format:r}),"data-active":f,onClick:e=>{if(e.preventDefault(),c){if(f){const e=((e,t)=>{const r=I(u.a.above(e,{at:u.a.unhangRange(e,e.selection),match:e=>!u.a.isEditor(e)&&t.includes(e.type)&&!e.nodeName&&!e.slateOnly}),2);return{nearest:r[0],path:r[1]}})(i,[r]).path;return"pre"===r&&u.a.removeMark(i,"code",!0),G(i,e)}K(i,r)}},tabIndex:-1}),n&&a.a.createElement(et.a.IconComposer,{icon:n,size:o})))};var qt=Object(n.forwardRef)(Wt);const Ht=["format","label","icon","isFirst"];function Kt(){return(Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Gt=(e,t)=>{let r=e.format,n=e.label,o=e.icon,l=e.isFirst,i=Yt(e,Ht);const c=Object(s.f)(),u=(null!=c?c:{}).selection,d=Object(Ce.a)().t;return a.a.createElement(ht.a,{content:a.a.createElement(St,{label:d("editor.tooltips.labels."+r),hotkeys:Mt[r]}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(It,Kt({ref:t},i,{"aria-label":d("editor.controls.labels.format",{format:r}),"data-active":B(c,r),onClick:e=>{e.preventDefault(),u&&Y(c,r)},tabIndex:l?0:-1}),o&&a.a.createElement(et.a.IconComposer,{icon:o}),n&&n))};var Zt=Object(n.forwardRef)(Gt),Qt=r(163),Jt=r(156);const Xt=Object(Re.a)("form",{target:"e1avvvck9"})({name:"1ndn4b9",styles:">*+*{margin-block-start:50px;}"}),er=Object(Re.a)("button",{target:"e1avvvck8"})(De.f," display:inline-flex;align-items:center;justify-content:flex-end;font-size:17px;cursor:pointer;",e=>e.$primary&&`\n    cursor: pointer;\n\n    &:hover {\n      ${De.l}\n      outline: 0;\n    }\n\n    &:focus-visible {\n      color: var(--focus-color);\n    }\n  `,";"),tr=Object(Re.a)("span",{target:"e1avvvck7"})(De.ib," margin-right:6px;font-size:12px;font-weight:var(--font-weight-semibold);line-height:","24px",";letter-spacing:0.125em;"),rr=Object(Re.a)(et.a.IconComposer,{target:"e1avvvck6"})("width:","24px",";height:","24px",";"),nr=Object(Re.a)("header",{target:"e1avvvck5"})({name:"3swheu",styles:"display:flex;justify-content:space-between;align-items:center;padding-block-start:0"}),ar=Object(Re.a)(et.a.IconComposer,{target:"e1avvvck4"})({name:"1asbwlv",styles:"color:var(--color-accent-primary);margin-top:2px"}),or=Object(Re.a)("span",{target:"e1avvvck3"})({name:"kmyzha",styles:"display:flex;gap:12px;align-items:center;margin-top:-2px;h2{margin-top:-6px;}"}),lr=Object(Re.a)("div",{target:"e1avvvck2"})({name:"1d3w5wq",styles:"width:100%"}),ir=Object(Re.a)(Jt.a.Wrapper,{target:"e1avvvck1"})("max-width:600px;padding-block:",Object(De.v)("50px","30px"),";padding-inline:",Object(De.v)("60px","40px"),";"),cr=Object(Re.a)("div",{target:"e1avvvck0"})({name:"10xput4",styles:"display:flex;gap:24px;margin-top:64px"});function sr(e){let t=e.urlRef,r=e.textRef,n=e.defaultValues;const o=Object(Ce.a)().t;return a.a.createElement(Xt,null,a.a.createElement(Qt.a,{defaultValue:null==n?void 0:n.text,ref:r,name:"text",label:o("editor.forms.link_text_label")}),a.a.createElement(Qt.a,{defaultValue:null==n?void 0:n.url,ref:t,name:"url",label:o("editor.forms.link_url_label")}))}var ur=r(9),dr=r(950);function fr(e){const t=e.form,r=e.resolve,n=e.reject,o=e.heading,l=e.icon,i=e.resolveLabel,c=Object(dr.a)(),s=Object(Ce.a)().t,u=e=>{e.preventDefault(),n(e)},d="button-secondary button-secondary--outlined";return a.a.createElement(ir,{maxWidth:600,showCloseButton:!1,closeOnOverlayClick:!1,labelledBy:s("editor.forms.labelled_by_uid",{uid:c}),describedBy:s("editor.forms.described_by_uid",{uid:c}),onEsc:e.reject},a.a.createElement(a.a.Fragment,null,a.a.createElement(nr,{className:"dialog__header"},a.a.createElement(or,null,a.a.createElement(ar,{icon:l}),a.a.createElement("h2",{id:s("editor.forms.labelled_by_uid",{uid:c})},o)),a.a.createElement(er,{onClick:u,tabIndex:0},a.a.createElement(tr,null,s("actions.close")),a.a.createElement(rr,{icon:"close24",size:24}))),a.a.createElement(lr,{className:"dialog__body"},t,a.a.createElement(cr,null,"function"==typeof r&&a.a.createElement("button",{onClick:e=>{e.preventDefault(),r(e)},className:d,"data-id":"accept"},a.a.createElement("span",null,i)),a.a.createElement("button",{className:Ae()(d,"button-secondary--dull"),onClick:u,"data-id":"reject"},a.a.createElement("span",null,s("actions.cancel")))))))}fr.displayName="ContentEditor.Insert.Modal",fr.propTypes={resolve:l.a.func,reject:l.a.func.isRequired,heading:l.a.string,options:l.a.object,message:l.a.oneOfType([l.a.string,l.a.object])};const br=(e,t)=>r=>{var n;r();const a=null!==(n=e.selection)&&void 0!==n?n:t;setTimeout(()=>{u.j.select(e,a),s.b.focus(e)},200)},pr=["icon","size"];function mr(){return(mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const gr=(e,t)=>{let r=e.icon,o=e.size,l=yr(e,pr);const i=Object(s.f)(),c=U(i),d=Object(ur.c)(),f=d.confirm,b=d.confirmation,y=Object(n.useRef)(null),g=Object(n.useRef)(null),v=Object(Ce.a)().t,h=e=>{var t,r,n,a;const o=null==y||null===(t=y.current)||void 0===t||null===(r=t.inputElement)||void 0===r?void 0:r.value,l=null==g||null===(n=g.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value;o&&(e(),m(i,o,l))};return a.a.createElement(ht.a,{content:a.a.createElement(St,{label:v("editor.tooltips.labels.link"),hotkeys:Mt.link}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(It,mr({name:"link-modal-trigger",ref:t},l,{"aria-label":v("editor.controls.labels.link"),"data-active":c,onClick:e=>{e.preventDefault();const t=(null!=i?i:{}).selection;if(!t)return;if(c)return p(i);const n=v("editor.forms.link_insert_heading"),o=u.g.isCollapsed(t)?{}:{text:u.a.string(i,t)};f&&f({heading:n,icon:r,form:a.a.createElement(sr,{urlRef:y,textRef:g,defaultValues:o}),callback:h,closeCallback:br(i,t),resolveLabel:v("actions.add")})},tabIndex:-1}),r&&a.a.createElement(et.a.IconComposer,{icon:r,size:o}),b&&a.a.createElement(fr,b)))};var vr=Object(n.forwardRef)(gr);function hr(e){let t=e.urlRef,r=e.altRef,n=e.defaultValues;const o=Object(Ce.a)().t;return a.a.createElement(Xt,null,a.a.createElement(Qt.a,{defaultValue:null==n?void 0:n.src,ref:t,name:"url",label:o("editor.forms.image_url_label")}),a.a.createElement(Qt.a,{defaultValue:null==n?void 0:n.alt,ref:r,name:"alt",label:o("editor.forms.alt_text_label")}))}const kr=["icon","size"];function xr(){return(xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Er(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const wr=(e,t)=>{let r=e.icon,o=e.size,l=Er(e,kr);const i=Object(Ce.a)().t,c=Object(s.f)(),d=(null!=c?c:{}).selection,f=Object(ur.c)(),b=f.confirm,p=f.confirmation,m=Object(n.useRef)(null),y=Object(n.useRef)(null),g=e=>{var t,r,n,a;const o=null==m||null===(t=m.current)||void 0===t||null===(r=t.inputElement)||void 0===r?void 0:r.value;if(!o)return;const l=null==y||null===(n=y.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value;return e(),v(c,o,l)},h=e=>t=>{var r,n,a,o,l;const i=null!==(r=null==m||null===(n=m.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value)&&void 0!==r?r:e.src;if(!i)return;const d=null==y||null===(o=y.current)||void 0===o||null===(l=o.inputElement)||void 0===l?void 0:l.value;t(),u.j.setNodes(c,{htmlAttrs:{...e,src:i,alt:d}}),s.b.focus(c)},k=Or(T(c,"img"),1)[0];return a.a.createElement(ht.a,{content:a.a.createElement(St,{label:i("editor.tooltips.labels.img"),description:i("editor.tooltips.descriptions.img"),hotkeys:Mt.img}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement("div",null,a.a.createElement(It,xr({name:"img-modal-trigger",ref:t},l,{"aria-label":i("editor.controls.labels.image"),"data-active":k,onClick:k?e=>{var t;e.preventDefault();const n=Or(Array.from(u.a.nodes(c,{at:u.a.unhangRange(c,d),match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"img"===e.type})),1),o=Or(n[0],1)[0],l=null!==(t=null==o?void 0:o.htmlAttrs)&&void 0!==t?t:{},s={src:l.src,alt:l.alt},f=i("editor.forms.image_update_heading");b&&b({heading:f,icon:r,form:a.a.createElement(hr,{defaultValues:s,urlRef:m,altRef:y}),callback:h(l),closeCallback:br(c,d),resolveLabel:i("actions.update")})}:e=>{if(e.preventDefault(),!d)return;const t=i("editor.forms.image_insert_heading");b&&b({heading:t,icon:r,form:a.a.createElement(hr,{urlRef:m,altRef:y}),callback:g,closeCallback:br(c,d),resolveLabel:i("actions.add")})},tabIndex:-1}),r&&a.a.createElement(et.a.IconComposer,{icon:r,size:o})),p&&a.a.createElement(fr,p)))};var Ar=Object(n.forwardRef)(wr);function Cr(e){let t=e.urlRef,r=e.titleRef,n=e.defaultValues;const o=Object(Ce.a)().t;return a.a.createElement(Xt,null,a.a.createElement(Qt.a,{defaultValue:null==n?void 0:n.src,ref:t,name:"url",label:o("editor.forms.iframe_url_label")}),a.a.createElement(Qt.a,{defaultValue:null==n?void 0:n.title,ref:r,name:"title",label:o("editor.forms.title_label")}))}const _r=["icon","size"];function Sr(){return(Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Rr=(e,t)=>{let r=e.icon,o=e.size,l=Nr(e,_r);const i=Object(s.f)(),c=(null!=i?i:{}).selection,d=Object(ur.c)(),f=d.confirm,b=d.confirmation,p=Object(n.useRef)(null),m=Object(n.useRef)(null),y=Object(Ce.a)().t,g=e=>{var t,r,n,a;const o=null==p||null===(t=p.current)||void 0===t||null===(r=t.inputElement)||void 0===r?void 0:r.value;if(!o)return;const l=null==m||null===(n=m.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value;return o?(e(),x(i,o,l)):void 0},v=e=>t=>{var r,n,a,o,l;const c=null!==(r=null==p||null===(n=p.current)||void 0===n||null===(a=n.inputElement)||void 0===a?void 0:a.value)&&void 0!==r?r:e.src;if(!c)return;const d=null==m||null===(o=m.current)||void 0===o||null===(l=o.inputElement)||void 0===l?void 0:l.value,f=/api\/proxy\//.test(c)?"video":"iframe";t(),u.j.setNodes(i,{type:f,htmlAttrs:{...e,src:c,title:d}}),s.b.focus(i)},h=Mr(T(i,"iframe"),1)[0],k=Mr(T(i,"video"),1)[0],O=h||k;return a.a.createElement(ht.a,{content:a.a.createElement(St,{label:y("editor.tooltips.labels.iframe"),description:y("editor.tooltips.descriptions.iframe"),hotkeys:Mt.iframe}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement("div",null,a.a.createElement(It,Sr({name:"iframe-modal-trigger",ref:t},l,{"aria-label":y("editor.controls.labels.iframe"),"data-active":O,onClick:O?e=>{var t;e.preventDefault();const n=Mr(Array.from(u.a.nodes(i,{at:u.a.unhangRange(i,c),match:e=>!u.a.isEditor(e)&&u.b.isElement(e)&&"iframe"===e.type||"video"===e.type})),1),o=Mr(n[0],1)[0],l=null!==(t=null==o?void 0:o.htmlAttrs)&&void 0!==t?t:{},s={src:l.src,title:l.title},d=y("editor.forms.iframe_update_heading");f&&f({heading:d,icon:r,form:a.a.createElement(Cr,{defaultValues:s,urlRef:p,titleRef:m}),callback:v(l),closeCallback:br(i,c),resolveLabel:y("actions.add")})}:e=>{if(e.preventDefault(),!c)return;const t=y("editor.forms.iframe_insert_heading");f&&f({heading:t,icon:r,form:a.a.createElement(Cr,{urlRef:p,titleRef:m}),callback:g,closeCallback:br(i,c),resolveLabel:y("actions.add")})},tabIndex:-1}),r&&a.a.createElement(et.a.IconComposer,{icon:r,size:o})),b&&a.a.createElement(fr,b)))};var Dr=Object(n.forwardRef)(Rr);const Pr=["options","name","color","ariaLabel"];function zr(){return(zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const $r=(e,t)=>{let r=e.options,n=e.name,o=e.color,l=e.ariaLabel,i=Tr(e,Pr);const c=Object(s.f)(),u=(null!=c?c:{}).selection,d=Object(Ce.a)().t,f=r.map(e=>a.a.createElement("option",{key:e.format,value:e.format,hidden:!e.format},e.label)),b=((e,t,r)=>{const n="textBlock"===r?$:T,a=t.map(t=>[t,n(e,t)].flat()).filter(e=>e[1]).sort((e,t)=>e[2].length-t[2].length).pop();return a?a[0]:""})(c,r.map(e=>e.format),n);return a.a.createElement(Nt,null,a.a.createElement(Dt,null,a.a.createElement(Pt,zr({ref:t},i,{"aria-label":l,"data-active":""!==b,$color:null!=o?o:"var(--color-accent-primary)",value:b,onChange:e=>{e.preventDefault(),u&&K(c,e.target.value)},tabIndex:-1}),f),a.a.createElement(Tt,{icon:"disclosureDown24",size:16})),a.a.createElement(ht.a,{content:!b||"textBlock"!==n&&"blockquote"!==b&&"pre"!==b?a.a.createElement(St,{label:d("editor.tooltips.labels."+n),description:d("editor.tooltips.descriptions."+n)}):a.a.createElement(St,{label:d("editor.tooltips.labels."+b),hotkeys:Mt[b]}),xOffset:"0",yOffset:"43px",delay:0},a.a.createElement(Rt,null,a.a.createElement(Me.a,{icon:"info16",size:14}))))};var Br=Object(n.forwardRef)($r);const Ur=["label","icon","onClick","isFirst","tooltip"];function Lr(){return(Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Vr=(e,t)=>{let r=e.label,n=e.icon,o=e.onClick,l=e.isFirst,i=e.tooltip,c=Fr(e,Ur);const s=Object(Ce.a)().t,u=r?$t:It,d=a.a.createElement(u,Lr({ref:t},c,{"aria-label":s("editor.controls.labels.format",{format:i}),onClick:o,tabIndex:l?0:-1}),n&&a.a.createElement(et.a.IconComposer,{icon:n,size:24}),r&&r);return i?a.a.createElement(ht.a,{content:a.a.createElement(St,{label:s("editor.tooltips.labels."+i),hotkeys:Mt[i],description:s("editor.tooltips.descriptions."+i)}),xOffset:"-50px",yOffset:"43px",delay:.5},d):d};var Wr=Object(n.forwardRef)(Vr);const qr=["format"];function Hr(){return(Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Kr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Yr=(e,t)=>{let r=e.format,n=Kr(e,qr);const o=Object(s.f)(),l=(null!=o?o:{}).selection,i=Object(Ce.a)().t;return a.a.createElement(ht.a,{content:a.a.createElement(St,{label:i("editor.tooltips.labels.span"),description:i("editor.tooltips.descriptions.span")}),xOffset:"-75px",yOffset:"43px",delay:.5},a.a.createElement(zt,Hr({as:"button",ref:t},n,{"aria-label":i("editor.controls.labels.span"),"data-active":T(o,r)[0],onClick:e=>{e.preventDefault(),l&&K(o,r)},tabIndex:-1}),"Span"))};var Gr=Object(n.forwardRef)(Yr),Zr=r(575),Qr=r(574),Jr=r(358),Xr=r(27),en=r.n(Xr);const tn=Object(Re.a)("div",{target:"ee4904c8"})({name:"sxr5eu",styles:"width:100%;display:flex;flex-wrap:wrap;row-gap:5px;align-items:center;column-gap:3px;border:1px solid var(--TextArea-border-color);border-bottom-color:var(--textarea-border-color);padding-inline:1.25em;padding-block:1em;background-color:var(--drawer-bg-color);border-top-left-radius:var(--box-border-radius);border-top-right-radius:var(--box-border-radius);color:var(--color);min-height:73px"}),rn=Object(Re.a)("div",{target:"ee4904c7"})("display:flex;flex-wrap:nowrap;align-items:center;gap:8px;",Object(De.V)("gap: 3px;",30),";"),nn=Object(Re.a)("div",{target:"ee4904c6"})({name:"1fw2tx8",styles:"margin-inline:12px;border-left:1px solid var(--background-color);height:24px"}),an=Object(Re.a)("div",{target:"ee4904c5"})({name:"r5xe2z",styles:"width:100%;display:flex;flex-wrap:wrap;row-gap:12px;justify-content:space-between;margin-block-end:32px"}),on=Object(Re.a)("div",{target:"ee4904c4"})("border-left:1px solid;border-right:1px solid;background:",e=>e.$darkMode?"var(--TextArea-border-color)":"var(--color-base-neutral30)",";border-color:var(--TextArea-border-color);color:var(--drawer-bg-color);padding-inline:1.5em;padding-block-start:3px;padding-block-end:6px;min-height:30px;font-family:var(--font-family-heading);display:flex;align-items:center;gap:20px;"),ln=Object(Re.a)("div",{target:"ee4904c3"})({name:"3reokc",styles:"display:flex;flex-wrap:wrap;align-items:center;column-gap:8px"}),cn=Object(Re.a)("button",{target:"ee4904c2"})(De.f," white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;max-width:300px;flex-shrink:0;min-height:24px;&:hover{color:",e=>{let t=e.$color;return e.$darkMode?We[t].dark:We[t].light},";}&:focus-visible{color:",e=>{let t=e.$color;return e.$darkMode?We[t].dark:We[t].light},";outline:0;}"),sn=Object(Re.a)(Me.a,{target:"ee4904c1"})({name:"18pz0bk",styles:"transform:rotate(-90deg);margin-block-start:4px;flex-shrink:0"}),un=Object(Re.a)("button",{target:"ee4904c0"})(De.f," display:flex;align-items:center;margin-inline-start:auto;&:focus-visible,&:focus{",De.k,";}");function dn(){return(dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fn(e){var t;let r=e.onClickUndo,o=e.onClickRedo,l=e.darkMode;const i=Object(Ce.a)().t,c=Object(Zr.a)({orientation:"horizontal",loop:!0,wrap:"horizontal"}),d=Object(s.h)(),f=Object(s.g)(),p=null==f||null===(t=f.anchor)||void 0===t?void 0:t.path;let m={};if(p){const e=u.c.ancestors(d,null==f?void 0:f.anchor.path);m=z(d,e)}const y=Se(),g=y.setSelectedCrumb,v=y.selectedCrumb,h=y.editingCrumb,k=y.setEditingCrumb;Object(n.useEffect)(()=>{h&&(k(!1),g(null))},[d.selection]);const x=Object(n.useCallback)(e=>{e.preventDefault();g("all"===v?null:"all")},[v,g]),O=Object(n.useCallback)(e=>{h||g(e)},[h]),j=Object(n.useCallback)(()=>{h||g(null)},[h]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Qr.a,dn({as:tn,"aria-label":i("editor.controls.labels.toolbar_rte")},c),a.a.createElement(rn,null,a.a.createElement(Jr.a,dn({as:Wr,icon:"undo24",onClick:r,tooltip:"undo",isFirst:!0},c)),a.a.createElement(Jr.a,dn({as:Wr,icon:"redo24",onClick:o,tooltip:"redo"},c)),a.a.createElement(nn,null)),a.a.createElement(rn,null,a.a.createElement(Jr.a,dn({as:Br,name:"container",ariaLabel:i("editor.controls.labels.layout_block_select"),options:[{format:"div",label:i("editor.tooltips.labels.div")},{format:"header",label:i("editor.tooltips.labels.header")},{format:"footer",label:i("editor.tooltips.labels.footer")},{format:"section",label:i("editor.tooltips.labels.section")},{format:"article",label:i("editor.tooltips.labels.article")},{format:"blockquote",label:i("editor.tooltips.labels.blockquote")},{format:"pre",label:i("editor.tooltips.labels.pre")},{format:"figure",label:i("editor.tooltips.labels.figure")},{format:"figcaption",label:i("editor.tooltips.labels.figcaption")},{format:"",label:i("editor.controls.labels.layout_block_select_placeholder")}],color:"var(--color-base-violet45)"},c)),a.a.createElement(nn,null)),a.a.createElement(rn,null,a.a.createElement(Jr.a,dn({as:Br,name:"textBlock",ariaLabel:i("editor.controls.labels.text_block_select"),options:[{format:"p",label:i("editor.tooltips.labels.p")},{format:"h1",label:i("editor.tooltips.labels.h1")},{format:"h2",label:i("editor.tooltips.labels.h2")},{format:"h3",label:i("editor.tooltips.labels.h3")},{format:"h4",label:i("editor.tooltips.labels.h4")},{format:"h5",label:i("editor.tooltips.labels.h5")},{format:"h6",label:i("editor.tooltips.labels.h6")},{format:"",label:i("editor.controls.labels.text_block_select_placeholder")}]},c)),a.a.createElement(nn,null)),a.a.createElement(rn,null,a.a.createElement(Jr.a,dn({as:Gr,format:"span"},c)),a.a.createElement(nn,null)),a.a.createElement(rn,null,a.a.createElement(Jr.a,dn({as:Zt,icon:"bold24",format:"bold"},c)),a.a.createElement(Jr.a,dn({as:Zt,icon:"italic24",format:"italic"},c)),a.a.createElement(Jr.a,dn({as:Zt,icon:"underline24",format:"underline"},c)),a.a.createElement(Jr.a,dn({as:Zt,icon:"strikethrough24",format:"strikethrough"},c)),a.a.createElement(Jr.a,dn({as:Zt,icon:"code24",format:"code"},c)),a.a.createElement(nn,null)),a.a.createElement(rn,null,a.a.createElement(Jr.a,dn({as:qt,icon:"orderedList24",format:"ol"},c)),a.a.createElement(Jr.a,dn({as:qt,icon:"unorderedList24",format:"ul"},c)),a.a.createElement(nn,null)),a.a.createElement(rn,null,a.a.createElement(Jr.a,dn({as:vr,icon:"RTELink24"},c)),a.a.createElement(Jr.a,dn({as:Ar,icon:"RTEImage24"},c)),a.a.createElement(Jr.a,dn({as:Dr,icon:"iframe24"},c)))),a.a.createElement(on,{$darkMode:l},a.a.createElement(ln,null,!en()(m)&&Object.keys(m).sort((e,t)=>m[e].path.length-m[t].path.length).map((e,t)=>{const r=m[e].label.split(".")[0].split("#")[0],o=b.f.includes(r)?"green":b.b.includes(r)?"blue":"violet";return a.a.createElement(n.Fragment,{key:e},a.a.createElement(cn,{$color:o,$darkMode:l,onMouseEnter:()=>O(e),onMouseLeave:j,onFocus:()=>O(e),onBlur:j,onClick:t=>{t.preventDefault(),g(e),k(!0)}},m[e].label),t<Object.keys(m).length-1&&a.a.createElement(sn,{icon:"disclosureDown16",size:16}))})),a.a.createElement(un,{onClick:x,"aria-label":i("all"===v?"editor.controls.labels.hide_html":"editor.controls.labels.show_html")},a.a.createElement(Me.a,{icon:"eyeball24",size:24}))))}function bn(){return(bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pn(e){let t=e.onClickUndo,r=e.onClickRedo,n=e.toggleStyles,o=e.cssVisible,l=e.controlsRef;const i=Object(Ce.a)().t,c=Object(Zr.a)({orientation:"horizontal",loop:!0,wrap:"horizontal"});return a.a.createElement(Qr.a,bn({as:tn,"aria-label":i("editor.controls.labels.toolbar_html")},c),a.a.createElement(Jr.a,bn({ref:l,as:Wr,icon:"undo24",onClick:t,isFirst:!0},c)),a.a.createElement(Jr.a,bn({as:Wr,icon:"redo24",onClick:r},c)),a.a.createElement(Jr.a,bn({as:Wr,label:i(o?"editor.controls.labels.hide_styles":"editor.controls.labels.show_styles"),icon:o?"eyeClosed32":"eyeOpen32",onClick:n},c)))}const mn=Object(Re.a)("div",{target:"e1jk1vub3"})(De.f," ",De.ib," display:inline-flex;border:1px solid;border-radius:16px;color:var(--color-accent-primary);width:100%;",Object(De.V)("width: auto;",60),";"),yn=Object(Re.a)("button",{target:"e1jk1vub2"})(De.f," ",De.ib," display:inline-flex;align-items:center;justify-content:center;gap:8px;padding-inline:",e=>e.$padding,";font-size:14px;font-weight:var(--font-weight-medium);text-decoration:none;text-transform:none;letter-spacing:0;border-top-left-radius:14px;border-bottom-left-radius:14px;transition:color ",De.m,",background-color ",De.m,",border-color ",De.m,";width:50%;",Object(De.V)("width: auto;",60)," ",e=>e.$active?"\n      color: var(--color-neutral-text-extra-dark);\n      background-color: var(--hover-color);\n      border-color: var(--hover-color);\n\n      &:hover {\n        color: var(--color-neutral-text-extra-dark);\n      }\n\n      &:focus-visible {\n        color: var(--color-base-neutral100);\n        background-color: var(--color-accent-primary-pale);\n        border-color: var(--color-accent-primary-pale);\n        outline: 0;\n      }":"\n      &:focus-visible {\n        color: var(--color-base-neutral100);\n        background-color: var(--color-accent-primary-pale);\n        border-color: var(--color-accent-primary-pale);\n        outline: 0;\n      }\n\n      &:hover {\n        color: inherit;\n        background-color: inherit;\n        border-color: inherit;\n      }\n      "," span{padding-top:7px;padding-bottom:9px;}svg{width:24px;height:24px;padding-bottom:2px;margin:0;}*+&{border-left:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:14px;border-bottom-right-radius:14px;}"),gn=Object(Re.a)("span",{target:"e1jk1vub1"})(Object(De.V)("display: none;",40),";"),vn=Object(Re.a)("span",{target:"e1jk1vub0"})(gn,"+&{display:none;",Object(De.V)("display: inline;",40),";}");function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xn(e){let t=e.options,r=e.padding,n=void 0===r?"20px":r;const o=hn(t,2),l=o[0],i=o[1];return a.a.createElement(mn,null,a.a.createElement(yn,{$active:l.active,$padding:n,onClick:l.onClick},a.a.createElement(Me.a,{icon:l.icon||"code16",size:l.iconSize||16,className:"button-icon-secondary__icon button-icon-secondary__icon--large"}),l.mobileLabel&&a.a.createElement(gn,null,l.mobileLabel),a.a.createElement(vn,null,l.label)),a.a.createElement(yn,{$active:i.active,$padding:n,onClick:i.onClick},a.a.createElement(Me.a,{icon:i.icon||"code16",size:i.iconSize||16,className:"button-icon-secondary__icon button-icon-secondary__icon--large"}),i.mobileLabel&&a.a.createElement(gn,null,i.mobileLabel),a.a.createElement(vn,null,i.label)))}function On(e){let t=e.htmlMode,r=e.onClickEditorToggle,n=e.darkMode,o=e.onClickDarkModeToggle;const l=Object(Ce.a)().t;return a.a.createElement(an,null,a.a.createElement(xn,{options:[{label:l("editor.controls.toggles.html_label"),mobileLabel:l("editor.controls.toggles.html_label_mobile"),icon:"editorHTML24",active:t,onClick:r(!0)},{label:l("editor.controls.toggles.rte_label"),mobileLabel:l("editor.controls.toggles.rte_label_mobile"),icon:"editorRTE24",active:!t,onClick:r(!1)}]}),a.a.createElement(xn,{options:[{label:l("editor.controls.toggles.dark_mode_label"),icon:"darkMode16",iconSize:12,active:n,onClick:o(!0)},{label:l("editor.controls.toggles.light_mode_label"),icon:"lightMode16",iconSize:12,active:!n,onClick:o(!1)}],padding:"16px"}))}var jn=r(313);const En=Object(Re.a)("div",{target:"e2ytnqy5"})("width:100%;resize:vertical;outline:none;transition:border-color ",De.m,";position:relative;border-radius:var(--box-border-radius);&:focus-visible{border-color:var(--TextArea-focus-color);}"),wn=Object(Re.a)(En,{target:"e2ytnqy4"})({name:"lspb3",styles:"--TextArea-border-color:var(--textarea-border-color);--TextArea-focus-color:var(--highlight-color);font-family:var(--input-font-family);background-color:var(--input-bg-color);border-radius:var(--box-border-radius);&::placeholder{color:var(--color-neutral-ui-light);}&.error{--TextArea-border-color:var(--error-color);}"}),An=Object(Re.a)("div",{target:"e2ytnqy3"})("min-height:700px;border:1px solid var(--TextArea-border-color);border-top:0;border-bottom-left-radius:var(--box-border-radius);border-bottom-right-radius:var(--box-border-radius);background-color:var(--background-color);overflow:hidden;overflow-x:auto;.ace_editor{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border:0;overflow:visible;}.ace_gutter{min-height:699px!important;overflow:visible;border-bottom-left-radius:var(--box-border-radius);}.ace_scroller{min-height:699px!important;overflow:visible;border-bottom-right-radius:var(--box-border-radius);}.ace_gutter-cell:last-of-type{border-bottom-left-radius:var(--box-border-radius);}",e=>e.$cssVisible&&"\n    .ace_cursor {\n      display: none;\n    }\n  ",";"),Cn=Object(Re.a)(s.a,{target:"e2ytnqy2"})({name:"1u7cb3t",styles:"max-width:850px;margin:auto;padding-block:4em;padding-inline:var(--container-padding-inline-fluid)"}),_n=Object(Re.a)("div",{target:"e2ytnqy1"})({name:"1cwvu6q",styles:"position:sticky;top:-80px;z-index:200;background-color:var(--drawer-bg-color);padding-top:30px"}),Sn=Object(Re.a)(jn.a,{target:"e2ytnqy0"})({name:"1h7h89g",styles:"margin-block-end:20px;>span{margin:0;}"});function Mn(e){let t=e.htmlMode,r=e.cssVisible,n=e.darkMode,o=e.onClickEditorToggle,l=e.onClickDarkModeToggle,i=e.onClickRedo,c=e.onClickUndo,s=e.toggleStyles,u=e.errors,d=e.controlsRef;return a.a.createElement(_n,{id:"editor-controls"},a.a.createElement(On,{htmlMode:t,darkMode:n,onClickEditorToggle:o,onClickDarkModeToggle:l}),!!u.length&&a.a.createElement(Sn,{errors:u}),t?a.a.createElement(pn,{onClickUndo:c,onClickRedo:i,toggleStyles:s,cssVisible:r,controlsRef:d}):a.a.createElement(fn,{onClickUndo:c,onClickRedo:i,darkMode:n}))}function In(){return(In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dn(e){let t=e.localHtml,r=e.localSlate,o=e.setLocalHtml,l=e.onChangeHtml,i=e.setLocalSlate,c=e.stylesheets,f=e.hasErrors,b=e.setHasErrors,p=e.warnErrors,m=e.setWarnErrors,y=e.nextRef,g=e.htmlMode,v=e.toggleHtmlMode;const h=Object(s.f)(),k=Object(n.useRef)(),x=Object(n.useRef)(),O=Nn(Object(n.useState)(!1),2),j=O[0],E=O[1],w=Nn(Object(n.useState)(!0),2),A=w[0],C=w[1],S=Object(Ce.a)().t;Object(n.useEffect)(()=>{const e=document.activeElement;if("content-editable"===(null==e?void 0:e.id)&&h.selection&&!g){const e=Nn(s.b.toDOMPoint(h,h.selection.focus),1)[0],t=e.parentElement.getBoundingClientRect(),r=document.getElementById("editor-button-overlay"),n=document.getElementById("editor-controls"),a=r.getBoundingClientRect(),o=n.getBoundingClientRect();t.bottom<a.top&&t.y>o.bottom||e.parentElement.scrollIntoView({behavior:"smooth",block:"center"})}},[h,h.selection,g]);const M=null==c?void 0:c.map(e=>null==e?void 0:e.attributes.styles).join("\n"),I=Object(n.useCallback)(e=>a.a.createElement(st,In({},e,{theme:M,darkMode:A})),[M,A]),N=Object(n.useCallback)(e=>a.a.createElement(Xe,In({},e,{darkMode:A})),[A]),R=j?{value:M,mode:"css",readOnly:!0,onValidate:()=>{},aceRef:k,nextRef:y,prevRef:x,darkMode:A}:{onChange:l,value:t,onValidate:e=>{if(!e.find(e=>"error"===e.type))return b(!1),m(!1);b(!0)},mode:"html",aceRef:k,nextRef:y,prevRef:x,darkMode:A},D=Ae()("manifold-text-section text-section font-size-2",{"scheme-dark":A,"scheme-light":!A}),P=p?Array.isArray(f)?f:[{source:{pointer:"/data/attributes/body"},detail:S("errors.invalid_html_"+p)}]:[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Mn,{htmlMode:g,darkMode:A,onClickEditorToggle:e=>n=>{n.stopPropagation(),n.preventDefault(),f?m("switch"):e&&g||(e||g)&&(()=>{if(g){const e=Object(Ee.c)(t);return i(e),_(h),u.j.insertNodes(h,e),u.j.select(h,{anchor:u.a.start(h,[0]),focus:u.a.start(h,[0])}),v(!1)}const e=Object(Z.a)(Object(Ee.b)(r));o(e),E(!1),v(!0)})()},onClickDarkModeToggle:e=>t=>{t.preventDefault(),C(e)},onClickUndo:e=>{if(e.preventDefault(),!g)return d.a.undo(h);k.current.editor.undo()},onClickRedo:e=>{if(e.preventDefault(),!g)return d.a.redo(h);k.current.editor.redo()},toggleStyles:e=>{e.preventDefault(),E(!j)},cssVisible:j,errors:P,controlsRef:x}),a.a.createElement(An,{className:D,$cssVisible:j},!g&&a.a.createElement(Cn,{id:"content-editable",as:"div",renderElement:I,renderLeaf:N,placeholder:S("editor.elements.placeholder"),spellCheck:!1,onKeyDown:e=>ft(e,h)}),g&&a.a.createElement(vt,R)),M&&!g&&a.a.createElement("style",{dangerouslySetInnerHTML:{__html:`@layer stylesheets {${M}}`}}))}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tn(e){let t=e.set,r=e.stylesheets,o=e.initialHtmlValue,l=e.initialSlateValue,f=e.hasErrors,b=e.setHasErrors,p=e.warnErrors,m=e.setWarnErrors,y=e.nextRef;const g=Object(n.useRef)();g.current||(g.current=Object(s.i)(Object(d.b)(xe(Object(u.k)()))));const v=g.current,h=Object(n.useRef)(l),k=Object(n.useRef)(o),x=Pn(Object(n.useState)(w()(l,"error")),2),O=x[0],E=x[1],A=Pn(Object(n.useState)(),2),C=A[0],S=A[1],M=Pn(Object(n.useState)(!1),2),I=M[0],N=M[1],R=Pn(Object(n.useState)(o),2),D=R[0],P=R[1],z=Pn(Object(n.useState)(w()(l,"error")?l.default:l),2),T=z[0],$=z[1];Object(n.useEffect)(()=>{if(!O&&!j()(h.current,l))return _(v),void u.j.insertNodes(v,l);j()(k.current,o)||P(o)},[l,o]);const B=je()(e=>t(Object(Ee.b)(e)),500),U=je()(e=>t(Object(Ee.a)(e)),500);return a.a.createElement(i.a,{className:"wide"},a.a.createElement(wn,{className:f&&p?"error":void 0},a.a.createElement(c.ErrorBoundary,{fallbackRender:e=>{let t=e.resetErrorBoundary;return d.a.undo(v),t(),null}},a.a.createElement(_e.Provider,{value:{selectedCrumb:C,setSelectedCrumb:S,editingCrumb:I,setEditingCrumb:N}},a.a.createElement(s.c,{editor:v,value:T,onChange:e=>{var t,r,n;$(e);const a=null!==(t=null==v||null===(r=v.history)||void 0===r?void 0:r.undos)&&void 0!==t?t:[];(a.length>1||(null===(n=a[0])||void 0===n?void 0:n.selectionBefore))&&B(e)}},a.a.createElement(Dn,{localHtml:D,setLocalHtml:P,onChangeHtml:e=>{P(e),U(e)},localSlate:T,setLocalSlate:$,stylesheets:r,htmlMode:O,toggleHtmlMode:E,hasErrors:f,setHasErrors:b,warnErrors:p,setWarnErrors:m,nextRef:y}))))))}Dn.displayName="Global.Forms.ContentEditor.Editor",Tn.displayName="Global.Form.ContentEditor.Wrapper",Tn.propTypes={set:l.a.func,stylesheets:l.a.arrayOf(l.a.object),sectionId:l.a.string,sectionBody:l.a.string}}}]);
//# sourceMappingURL=chunk-11-0d32203057ad3a840066.js.map